<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"
    />
    <title>Dashboard Eletrize</title>
    <style>
      /* Raleway Font - embutido */
      @font-face {
        font-family: "Raleway";
        font-style: normal;
        font-weight: 300;
        font-display: swap;
        src: url("fonts/raleway/Raleway-latin-300.woff2") format("woff2");
      }

      @font-face {
        font-family: "Raleway";
        font-style: normal;
        font-weight: 500;
        font-display: swap;
        src: url("fonts/raleway/Raleway-latin-500.woff2") format("woff2");
      }

      @font-face {
        font-family: "Raleway";
        font-style: normal;
        font-weight: 700;
        font-display: swap;
        src: url("fonts/raleway/Raleway-latin-700.woff2") format("woff2");
      }
    </style>
    <link rel="preload" href="styles.css?v=1.0.9" as="style" />
    <link rel="stylesheet" href="styles.css?v=1.0.9" />
    <script src="config.js?v=1.0.11"></script>
    <link rel="icon" href="images/pwa/app-icon-192.png" type="image/png" />
    <link rel="manifest" href="manifest.json" />
    <meta name="theme-color" content="#1C1C1C" />
    <link rel="apple-touch-icon" href="images/pwa/app-icon-192.png" />

    <script>
      (function () {
        const CLOUDFLARE_BEACON_HOST = "static.cloudflareinsights.com/beacon";

        function suppressCloudflareWarning(event) {
          const target = event.target || {};
          const origin =
            (typeof target.src === "string" && target.src) ||
            (typeof event.filename === "string" && event.filename) ||
            "";

          if (!origin || !origin.includes(CLOUDFLARE_BEACON_HOST)) {
            return;
          }

          if (typeof event.preventDefault === "function") {
            event.preventDefault();
          }
          if (typeof event.stopImmediatePropagation === "function") {
            event.stopImmediatePropagation();
          }

          if (!window.__cfBeaconWarningShown) {
            window.__cfBeaconWarningShown = true;
            console.info(
              "Cloudflare Insights nÃ£o pÃ´de ser carregado (uso offline ou script bloqueado). Nenhuma aÃ§Ã£o adicional Ã© necessÃ¡ria."
            );
          }
        }

        function removeScenesPreload() {
          document
            .querySelectorAll('link[rel="preload"][href*="scenes.js"]')
            .forEach((link) => link.remove());
        }

        window.addEventListener("error", suppressCloudflareWarning, true);

        if (document.readyState === "loading") {
          document.addEventListener("DOMContentLoaded", removeScenesPreload);
        } else {
          removeScenesPreload();
        }
      })();
    </script>

    <style>
      /* BotÃ£o invisÃ­vel no card para capturar clique na Home */

      .room-card-link {
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        z-index: 10;
        background: transparent;
        border: none;
        cursor: pointer;
      }

      /* BotÃ£o retangular para o slot de logo (HTV Varanda) */
      .tv-logo-button {
        width: 100%;
        min-height: 60px;
        padding: 12px;
        margin: 0;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .tv-logo-button:active {
        transform: scale(0.98);
      }

      .tv-globonews-logo {
        width: 100%;
        max-width: 160px;
        height: auto;
        max-height: 50px;
        opacity: 1;
        filter: brightness(0) invert();
      }
    </style>
    <script>
      // Garantir que a animaÃ§Ã£o de inicializaÃ§Ã£o rode imediatamente
      document.addEventListener('DOMContentLoaded', function() {
        const loader = document.getElementById('global-loader');
        const loaderContent = loader?.querySelector('.loader-content');
        
        if (loaderContent) {
          // Remover e readicionar a animaÃ§Ã£o para garantir que rode
          loaderContent.style.animation = 'none';
          void loaderContent.offsetWidth; // ForÃ§ar reflow
          loaderContent.style.animation = '0.6s ease-out fadeInUp';
        }
      });
      
      // Fallback para garantir que o loader seja visÃ­vel mesmo se houver erro
      if (document.readyState !== 'loading') {
        const loader = document.getElementById('global-loader');
        const loaderContent = loader?.querySelector('.loader-content');
        if (loaderContent) {
          loaderContent.style.animation = '0.6s ease-out fadeInUp';
        }
      }
    </script>
  </head>
  <body>
    <!-- Tela de Loading Global -->
    <div id="global-loader" class="global-loader">
      <div class="loader-content">
        <!-- Logo que vai animar para o header -->
        <div class="loader-logo" id="loader-logo">
          <button class="app-logo-trigger loader-logo-btn" type="button" aria-label="Dashboard Eletrize">
            <img
              src="images/icons/eletrize.svg"
              alt="Dashboard Eletrize"
              class="loader-logo-img logo-round"
              loading="eager"
              decoding="sync"
            />
          </button>
        </div>
        <!-- Elementos de loading (desaparecem antes da transiÃ§Ã£o) -->
        <div class="loader-spinner"></div>
        <div class="loader-text">Carregando estados dos dispositivos...</div>
        <div class="loader-progress">
          <div class="progress-bar">
            <div id="progress-fill" class="progress-fill"></div>
          </div>
          <div id="progress-text" class="progress-text">0%</div>
        </div>
      </div>
      <!-- Linha branca que expande do centro (clone da top-bar-custom) -->
      <div class="loader-line" id="loader-line"></div>
    </div>

    <!-- Elementos fixos (fora do fade das pÃ¡ginas) -->
    <div id="spa-static-topbar" class="top-bar-custom spa-static-chrome"></div>
    <h1 id="spa-static-header" class="page-title fixed-header spa-static-chrome" style="display:flex;justify-content:center;align-items:center;">
      <button class="app-logo-trigger" type="button" aria-label="Abrir informacoes do aplicativo">
        <img class="logo-round" src="images/icons/eletrize.svg" alt="Dashboard Eletrize" />
      </button>
    </h1>

    <!-- SPA root -->
    <div id="spa-root"></div>

    <!-- Confirmation Popup -->
    <div class="popup-overlay" id="confirmation-popup">
      <div class="popup-dialog">
        <p class="popup-message" id="popup-message"></p>

        <div class="popup-buttons">
          <button class="popup-btn cancel" id="popup-cancel">Cancelar</button>

          <button class="popup-btn confirm" id="popup-confirm">
            Confirmar
          </button>
        </div>
      </div>
    </div>

    <!-- App Info Popup -->

    <div class="app-info-overlay" id="app-info-overlay" aria-hidden="true">
      <div
        class="app-info-dialog"
        role="dialog"
        aria-label="Menu rÃ¡pido"
        aria-modal="true"
      >
        <div class="app-info-body">
          <img
            class="app-info-logo"
            src="images/icons/eletrize.svg"
            alt="Eletrize AutomaÃ§Ã£o"
          />

          <div class="app-info-options">
            <button
              id="app-fullscreen-toggle"
              type="button"
              class="app-info-option"
              aria-label="Tela cheia"
            >
              <img
                src="images/icons/Fullscreen.svg"
                alt=""
                class="app-info-option__icon"
                aria-hidden="true"
              />
            </button>

            <button
              id="app-cache-clear"
              type="button"
              class="app-info-option"
              aria-label="Limpar cache"
            >
              <img
                src="images/icons/icon-limpar.svg"
                alt=""
                class="app-info-option__icon"
                aria-hidden="true"
              />
            </button>

            <a
              id="app-instagram-link"
              class="app-info-option"
              href="https://www.instagram.com/eletrizeautomacao?utm_source=ig_web_button_share_sheet&amp;igsh=ZDNlZDc0MzIxNw=="
              target="_blank"
              rel="noopener noreferrer"
              aria-label="Instagram Eletrize"
            >
              <img
                src="images/icons/Instagram.svg"
                alt=""
                class="app-info-option__icon"
                aria-hidden="true"
              />
            </a>

            <a
              id="app-support-link"
              class="app-info-option"
              href="http://api.whatsapp.com/send?1=pt_BR&amp;phone=5516997152993"
              target="_blank"
              rel="noopener noreferrer"
              aria-label="Contato via WhatsApp"
            >
              <img
                src="images/icons/whatsapp.svg"
                alt=""
                class="app-info-option__icon"
                aria-hidden="true"
              />
            </a>
          </div>

          <span class="app-info-version" id="app-info-version"></span>
        </div>
      </div>
    </div>

    <!-- Navbar fixa SPA -->

    <nav class="navbar" id="spa-navbar">
      <div class="nav-item" data-page="curtains" data-ui-item="curtains">
        <div class="nav-icon-wrapper">
          <img
            src="images/icons/icon-curtain.svg"
            alt="Cortinas"
            class="nav-icon"
          />
        </div>
      </div>

      <div class="nav-item" data-page="home" data-ui-item="home">
        <div class="nav-icon-wrapper">
          <img src="images/icons/icon-home.svg" alt="Home" class="nav-icon" />
        </div>
      </div>

      <div class="nav-item" data-page="scenes" data-ui-item="scenes">
        <div class="nav-icon-wrapper">
          <img
            src="images/icons/icon-scenes.svg"
            alt="Cenarios"
            class="nav-icon"
          />
        </div>
      </div>
    </nav>
    <script>
      (function () {
        var originalConsole = window.__DASHBOARD_ORIGINAL_CONSOLE__ || {
          log: console.log ? console.log.bind(console) : function () {},
          info: console.info ? console.info.bind(console) : function () {},
          debug: console.debug ? console.debug.bind(console) : function () {},
        };

        function parseDebugFromQuery() {
          try {
            var params = new URLSearchParams(window.location.search);
            return params.get("debug") === "1";
          } catch (error) {
            return false;
          }
        }

        function readDebugFromStorage() {
          try {
            return window.localStorage.getItem("dashboard_debug") === "1";
          } catch (error) {
            return false;
          }
        }

        function setConsoleState(enabled) {
          if (enabled) {
            if (!window.__DASHBOARD_ORIGINAL_CONSOLE__) {
              window.__DASHBOARD_ORIGINAL_CONSOLE__ = originalConsole;
            }

            Object.keys(originalConsole).forEach(function (method) {
              if (originalConsole[method]) {
                console[method] = originalConsole[method];
              }
            });
            return;
          }

          var noop = function () {};
          ["log", "info", "debug"].forEach(function (method) {
            if (typeof console[method] === "function") {
              console[method] = noop;
            }
          });
        }

        window.setDashboardDebug = function (enabled, persist) {
          if (persist) {
            try {
              window.localStorage.setItem(
                "dashboard_debug",
                enabled ? "1" : "0"
              );
            } catch (error) {}
          }

          window.__DASHBOARD_DEBUG__ = Boolean(enabled);
          setConsoleState(window.__DASHBOARD_DEBUG__);
        };

        window.__DASHBOARD_DEBUG__ =
          parseDebugFromQuery() || readDebugFromStorage();

        setConsoleState(window.__DASHBOARD_DEBUG__);
      })();
    </script>
    <script src="script.js?v=1.0.16" defer></script>
    <script>
      // FunÃ§Ã£o temporÃ¡ria updateProgress atÃ© script.js carregar
      window.updateProgress = window.updateProgress || function(percentage, text) {
        try {
          const progressFill = document.getElementById("progress-fill");
          const progressText = document.getElementById("progress-text");
          const loaderText = document.querySelector(".loader-text");

          if (progressFill) {
            progressFill.style.width = percentage + "%";
          }

          if (progressText) {
            progressText.textContent = Math.round(percentage) + "%";
          }

          if (loaderText && text) {
            loaderText.textContent = text;
          }

          console.log(`ðŸ“Š Progresso: ${percentage}% - ${text || "Carregando..."}`);
        } catch (error) {
          console.warn("âš ï¸ Erro ao atualizar progresso:", error);
        }
      };

      // PWA: registra service worker (desativado em localhost para evitar cache no desenvolvimento)

      if ("serviceWorker" in navigator) {
        const isLocalhost = ["localhost", "127.0.0.1", "::1"].includes(
          location.hostname
        );

        if (isLocalhost) {
          // Em ambiente de desenvolvimento, garantir remoÃ§Ã£o do SW e dos caches

          navigator.serviceWorker
            .getRegistrations?.()
            .then((regs) => regs.forEach((r) => r.unregister()))
            .catch(() => {});

          if (window.caches?.keys) {
            caches
              .keys()
              .then((keys) => Promise.all(keys.map((k) => caches.delete(k))))
              .catch(() => {});
          }
        } else {
          window.addEventListener("load", function () {
            navigator.serviceWorker
              .register("service-worker.js")
              .catch(() => {});
          });
        }
      }

      // --- SPA Core ---

      const spaRoot = document.getElementById("spa-root");
  const pageCache = new Map();

      // --- UI tokens vindos do config.js (Ã­cone + label) ---
      function uiItem(key, fallback) {
        try {
          if (typeof getUiItem === "function") {
            return getUiItem(key) || fallback || null;
          }
        } catch (e) {}
        return fallback || null;
      }

      function uiLabel(key, fallback) {
        const item = uiItem(key, null);
        return (item && item.label) || fallback || "";
      }

      function uiIcon(key, fallback) {
        const item = uiItem(key, null);
        return (item && item.icon) || fallback || "";
      }

      function uiToggleIcon(key, state, fallback) {
        try {
          if (typeof getUiToggleIcon === "function") {
            return (
              getUiToggleIcon(key, state) ||
              fallback ||
              ""
            );
          }
        } catch (e) {}
        return fallback || "";
      }

      function uiActionIcon(key, fallback) {
        try {
          if (typeof getUiActionIcon === "function") {
            return getUiActionIcon(key) || fallback || "";
          }
        } catch (e) {}
        return fallback || "";
      }

      const ROOM_IMAGE_BASE =
        typeof getEnvironmentPhotoMap === "function"
          ? (() => {
              const map = getEnvironmentPhotoMap();
              if (map && Object.keys(map).length > 0) return map;
              return {};
            })()
          : {};

      function resolveRoomPhotoSpec(value) {
        const raw = String(value || "").trim();
        const hasExtension = /\.[a-z0-9]+$/i.test(raw);
        const looksLikePath = /[\\/]/.test(raw);

        // If config provides a filename with extension (e.g. "photo-x.webp"), treat it as a direct asset.
        if (raw && hasExtension) {
          const url = looksLikePath ? raw.replace(/\\/g, "/") : `images/Images/${raw}`;
          return { kind: "direct", url, base: raw };
        }

        // Default behavior: treat as "base" and use somente a versão JPG.
        return { kind: "base", base: raw };
      }

      const ROOM_IMAGE_DATA = Object.entries(ROOM_IMAGE_BASE).reduce(
        (acc, [key, rawBase]) => {
          const spec = resolveRoomPhotoSpec(rawBase);

          if (spec.kind === "direct") {
            acc[key] = {
              base: spec.base,
              isDirect: true,
              fallback: spec.url,
              webpSrcset: "",
              defaultWebp: spec.url,
              backgroundWebp: spec.url,
            };
            return acc;
          }

          acc[key] = {
            base: spec.base,
            isDirect: false,
            fallback: `images/Images/${spec.base}.jpg`,
            webpSrcset: "",
            defaultWebp: `images/Images/${spec.base}.jpg`,
            backgroundWebp: `images/Images/${spec.base}.jpg`,
          };

          return acc;
        },
        {}
      );

      const WEBP_SUPPORTED = false;

      function getRoomBackgroundUrl(route) {
        const data = ROOM_IMAGE_DATA[route];
        if (!data) return null;
        return WEBP_SUPPORTED ? data.backgroundWebp : data.fallback;
      }

      const ROOM_BACKGROUND_CACHE = new Map();
      const ROOM_BACKGROUND_PROMISES = new Map();

      function cacheRoomBackground(route, url, { force = false } = {}) {
        if (!route || !url) return;
        if (!ROOM_BACKGROUND_CACHE.has(route) || force) {
          ROOM_BACKGROUND_CACHE.set(route, url);
        }
      }

      function preloadRoomBackground(route) {
        const data = ROOM_IMAGE_DATA[route];
        if (!data) return Promise.resolve(null);
        const targetUrl = getRoomBackgroundUrl(route);
        if (!targetUrl) return Promise.resolve(null);

        if (ROOM_BACKGROUND_CACHE.get(route) === targetUrl) {
          return Promise.resolve(targetUrl);
        }

        if (ROOM_BACKGROUND_PROMISES.has(route)) {
          return ROOM_BACKGROUND_PROMISES.get(route);
        }

        const promise = new Promise((resolve) => {
          const img = new Image();
          img.decoding = "async";
          img.onload = () => {
            cacheRoomBackground(route, targetUrl, { force: true });
            ROOM_BACKGROUND_PROMISES.delete(route);
            resolve(targetUrl);
          };
          img.onerror = () => {
            ROOM_BACKGROUND_PROMISES.delete(route);
            resolve(targetUrl);
          };
          img.src = targetUrl;
        });

        ROOM_BACKGROUND_PROMISES.set(route, promise);
        return promise;
      }

      function applyBackground(container, route) {
        if (!container) return;

        container.dataset.backgroundRoute = route;
        container.classList.remove("page-ready");

        const cached = ROOM_BACKGROUND_CACHE.get(route);
        if (cached) {
          container.style.backgroundImage = `url('${cached}')`;
          container.classList.remove("bg-loading");
          requestAnimationFrame(() => {
            container.classList.add("page-ready");
          });
        } else {
          // Premium UX: evitar mostrar 1 frame "sem fundo" enquanto a imagem baixa.
          // Mostra placeholder (bg-loading) imediatamente, e sÃ³ faz fade para a foto quando estiver pronta.
          container.style.backgroundImage = "";
          container.classList.add("bg-loading");
          requestAnimationFrame(() => {
            container.classList.add("page-ready");
          });
        }

        preloadRoomBackground(route).then((finalUrl) => {
          if (!finalUrl) {
            container.classList.remove("bg-loading");
            container.classList.add("page-ready");
            return;
          }
          if (container.dataset.backgroundRoute !== route) {
            return;
          }

          const nextBg = `url('${finalUrl}')`;
          const currentBg = container.style.backgroundImage || "";

          // Evitar flash: quando a imagem final chega (webp/otimizada),
          // faz um fade rÃ¡pido antes de trocar o background.
          if (currentBg !== nextBg) {
            container.classList.remove("page-ready");

            // Dar tempo da opacidade baixar (fade-out) antes de trocar a imagem
            setTimeout(() => {
              if (container.dataset.backgroundRoute !== route) return;
              container.style.backgroundImage = nextBg;
              container.classList.remove("bg-loading");
              requestAnimationFrame(() => {
                if (container.dataset.backgroundRoute !== route) return;
                container.classList.add("page-ready");
              });
            }, 200);
            return;
          }

          container.classList.remove("bg-loading");
          requestAnimationFrame(() => {
            container.classList.add("page-ready");
          });
        });
      }

      function renderRoomResponsivePhoto(route, alt, options = {}) {
        const data = ROOM_IMAGE_DATA[route];
        if (!data) return "";
        const preferredCardUrl = data.fallback;
        cacheRoomBackground(route, preferredCardUrl);
        const {
          eager = false,
          className = "room-card-photo",
          imageClassName = "",
        } = options;
        const loading = eager ? "eager" : "lazy";
        const decoding = eager ? "sync" : "async";
        const fetchPriority = eager ? 'fetchpriority="high"' : "";
        const imgClassAttribute = imageClassName
          ? `class="${imageClassName}"`
          : "";

        return `
          <picture class="${className}" data-route="${route}">
            <img
              ${imgClassAttribute}
              src="${data.fallback}"
              alt="${alt}"
              loading="${loading}"
              decoding="${decoding}"
              ${fetchPriority}
              width="720"
              height="540"
            />
          </picture>
        `;
      }

      let scenesScriptPromise = null;
      function ensureScenesScript() {
        if (scenesScriptPromise) return scenesScriptPromise;
        scenesScriptPromise = new Promise((resolve, reject) => {
          const script = document.createElement("script");
          script.src = "scenes.js?v=1.0.4";
          script.async = true;
          script.onload = resolve;
          script.onerror = () =>
            reject(new Error("Falha ao carregar scenes.js"));
          document.head.appendChild(script);
        });
        return scenesScriptPromise;
      }

      const CURTAIN_SECTIONS =
        typeof buildCurtainSectionsFromConfig === "function"
          ? buildCurtainSectionsFromConfig()
          : [
              {
                key: "ambiente1",
                name: "Varanda",
                curtains: [
                  { deviceId: "109", title: "Todas" },
                  { deviceId: "115", title: "Esquerda" },
                  { deviceId: "116", title: "Direita" },
                ],
              },
              {
                key: "ambiente2",
                name: "Living",
                curtains: [{ deviceId: "119", title: "Cortina Lateral" }],
              },
              {
                key: "ambiente7",
                name: "SuÃ­te I",
                curtains: [{ deviceId: "50", title: "Veneziana" }],
              },
              {
                key: "ambiente8",
                name: "SuÃ­te II",
                curtains: [{ deviceId: "51", title: "Veneziana" }],
              },
              {
                key: "ambiente9",
                name: "SuÃ­te Master",
                curtains: [{ deviceId: "52", title: "Veneziana" }],
              },
            ];

      function getEnvDevices(envKey, prop) {
        const env = typeof getEnvironment === "function" ? getEnvironment(envKey) : null;
        if (!env) return [];
        const list = Array.isArray(env[prop]) ? env[prop] : [];
        return list
          .map((item) => {
            if (!item || !item.id) return null;
            const baseId = String(item.id);
            return {
              id: baseId,
              name: item.name || "",
              metadataId: item.metadataDeviceId || item.metadataId || baseId,
              transportId: item.transportDeviceId || item.transportId || baseId,
              volumeId: item.volumeDeviceId || item.volumeId || baseId,
              powerId: item.powerDeviceId || item.powerId || baseId,
            };
          })
          .filter(Boolean);
      }

      function getEnvPrimaryDevice(envKey, prop) {
        const devices = getEnvDevices(envKey, prop);
        return devices.length > 0 ? devices[0] : null;
      }

      function renderTvControlPage(envKey, deviceType, headingLabel) {
        const env = typeof getEnvironment === "function" ? getEnvironment(envKey) : null;
        const envName = env?.name || envKey;
        const device = getEnvPrimaryDevice(envKey, deviceType);

        if (!device) {
          return `
            <div class="top-bar-custom"></div>
            <div class="page active page-container ${envKey}-page ${envKey}-${deviceType}-page">
              <div class="page-header">
                <button class="back-btn" onclick="spaNavigate('${envKey}')"><img src="images/icons/back-button.svg" alt="Voltar"></button>
                <h1 class="page-title">${envName}</h1>
              </div>
              <div class="page-body empty-state">
                <p>Defina ${deviceType.toUpperCase()} no config.js para este ambiente.</p>
              </div>
            </div>
          `;
        }

        const deviceId = device.id;
        const title = headingLabel || uiLabel(deviceType, deviceType.toUpperCase());

        return `
<div class="top-bar-custom"></div>

<div class="page active page-container ${envKey}-page ${envKey}-${deviceType}-page">

    <div class="page-header">
        <button class="back-btn" onclick="spaNavigate('${envKey}')">
            <img src="images/icons/back-button.svg" alt="Voltar">
        </button>
        <h1 class="page-title">${title}</h1>
    </div>

    <div class="tv-control-wrapper">
        
        <!-- COLUNA 1 -->
        <div class="tv-controls-col tv-col-1">
            <!-- BLOCO 1: ON/OFF -->
            <div class="tv-control-section">
                <header class="tv-section-header">
                    <h3 class="tv-section-title">On / Off</h3>
                    <div class="tv-section-line"></div>
                </header>
                <div class="tv-control-group tv-power-group">
                  <button class="tv-btn tv-btn--power-on" onclick="tvCommand(this, 'on')" data-device-id="${deviceId}" aria-label="Ligar">
                    ON
                  </button>
                  <button class="tv-btn tv-btn--power-off" onclick="tvCommand(this, 'off')" data-device-id="${deviceId}" aria-label="Desligar">
                    OFF
                  </button>
                </div>
            </div>

            <!-- BLOCO 4 E 5: VOLUME E CANAIS (lado a lado) -->
            <div class="tv-volume-canais-wrapper">
                
                <!-- BLOCO 4: VOLUME -->
                <div class="tv-control-section">
                    <header class="tv-section-header">
                        <h3 class="tv-section-title">Volume</h3>
                        <span class="tv-volume-value" id="tv-volume-display">50</span>
                        <div class="tv-section-line"></div>
                    </header>
                    <div class="tv-control-group tv-volume-slider-container">
                        <input 
                            type="range" 
                            class="tv-volume-slider" 
                            id="tv-volume-slider"
                            min="0" 
                            max="100" 
                            value="50"
                            data-device-id="${deviceId}"
                            aria-label="Controle de Volume"
                        >
                    </div>
                </div>

                <!-- BLOCO 5: CANAIS -->
                <div class="tv-control-section">
                    <header class="tv-section-header">
                        <h3 class="tv-section-title">Canais</h3>
                        <div class="tv-section-line"></div>
                    </header>
                    <div class="tv-control-group tv-volume-channels-inline">
                        
                        <!-- Coluna Canais -->
                        <div class="tv-channels-column">
                            <div class="tv-channels-buttons">
                <button class="tv-btn-square" onclick="tvCommand(this, 'channelDown')" data-device-id="${deviceId}" aria-label="Canal +">
                                    <img src="images/icons/arrow-up.svg" alt="Canal +" class="tv-btn-icon-img">
                                </button>
                <button class="tv-btn-square" onclick="tvCommand(this, 'channelUp')" data-device-id="${deviceId}" aria-label="Canal -">
                                    <img src="images/icons/arrow-down.svg" alt="Canal -" class="tv-btn-icon-img">
                                </button>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
        </div>

        <!-- COLUNA 2 -->
        <div class="tv-controls-col tv-col-2">
            <!-- BLOCO 3: COMANDOS (Back, Menu, Home, Mute) -->
            <div class="tv-control-section">
                <header class="tv-section-header">
                    <h3 class="tv-section-title">Comandos</h3>
                    <div class="tv-section-line"></div>
                </header>
                <div class="tv-control-group tv-commands-grid">
                    <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'returnButton')" data-device-id="${deviceId}" aria-label="Voltar">
                        <img src="images/icons/back-button.svg" alt="Voltar">
                    </button>
                    <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'hdmi2')" data-device-id="${deviceId}" aria-label="Menu">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="3" y1="12" x2="21" y2="12"></line>
                            <line x1="3" y1="6" x2="21" y2="6"></line>
                            <line x1="3" y1="18" x2="21" y2="18"></line>
                        </svg>
                    </button>
                    <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'mute')" data-device-id="${deviceId}" aria-label="Mudo">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                            <line x1="23" y1="9" x2="17" y2="15"></line>
                            <line x1="17" y1="9" x2="23" y2="15"></line>
                        </svg>
                    </button>
                    <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'home')" data-device-id="${deviceId}" aria-label="Home">
                        <img src="images/icons/icon-home.svg" alt="Home">
                    </button>
                </div>
            </div>

            <!-- BLOCO 2: CONTROLE (D-PAD) -->
            <div class="tv-control-section">
                <header class="tv-section-header">
                    <h3 class="tv-section-title">Controle</h3>
                    <div class="tv-section-line"></div>
                </header>
                <div class="tv-control-group tv-directional-row">
                    <div class="tv-directional-section">
                        <div class="tv-directional-pad">
                            <!-- Linha 1: UP -->
                            <button class="tv-directional-btn tv-directional-btn--up" onclick="tvCommand(this, 'cursorUp')" data-device-id="${deviceId}" aria-label="Cima">
                                <img src="images/icons/arrow-up.svg" alt="Cima" class="tv-btn-icon-img">
                            </button>
                            
                            <!-- Linha 2: LEFT, OK, RIGHT -->
                            <div class="tv-directional-row-line">
                                <button class="tv-directional-btn tv-directional-btn--left" onclick="tvCommand(this, 'cursorLeft')" data-device-id="${deviceId}" aria-label="Esquerda">
                                    <img src="images/icons/arrow-left.svg" alt="Esquerda" class="tv-btn-icon-img">
                                </button>
                                <button class="tv-directional-btn tv-directional-btn--ok" onclick="tvCommand(this, 'cursorCenter')" data-device-id="${deviceId}" aria-label="OK">
                                    <div class="tv-ok-circle"></div>
                                </button>
                                <button class="tv-directional-btn tv-directional-btn--right" onclick="tvCommand(this, 'cursorRight')" data-device-id="${deviceId}" aria-label="Direita">
                                    <img src="images/icons/arrow-right.svg" alt="Direita" class="tv-btn-icon-img">
                                </button>
                            </div>
                            
                            <!-- Linha 3: DOWN -->
                            <button class="tv-directional-btn tv-directional-btn--down" onclick="tvCommand(this, 'cursorDown')" data-device-id="${deviceId}" aria-label="Baixo">
                                <img src="images/icons/arrow-down.svg" alt="Baixo" class="tv-btn-icon-img">
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- COLUNA 3 -->
        <div class="tv-controls-col tv-col-3">
            <!-- BLOCO 6: NÃšMEROS -->
            <div class="tv-control-section">
                <header class="tv-section-header">
                    <h3 class="tv-section-title">NÃºmeros</h3>
                    <div class="tv-section-line"></div>
                </header>
                <div class="tv-control-group">
                    <div class="tv-numpad">
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num1')" data-device-id="${deviceId}" aria-label="1">1</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num2')" data-device-id="${deviceId}" aria-label="2">2</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num3')" data-device-id="${deviceId}" aria-label="3">3</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num4')" data-device-id="${deviceId}" aria-label="4">4</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num5')" data-device-id="${deviceId}" aria-label="5">5</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num6')" data-device-id="${deviceId}" aria-label="6">6</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num7')" data-device-id="${deviceId}" aria-label="7">7</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num8')" data-device-id="${deviceId}" aria-label="8">8</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num9')" data-device-id="${deviceId}" aria-label="9">9</button>
                        <button class="tv-numpad-btn tv-numpad-btn--icon" onclick="tvCommand(this, 'returnButton')" data-device-id="${deviceId}" aria-label="Voltar">
                            <img src="images/icons/back-button.svg" alt="Back">
                        </button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num0')" data-device-id="${deviceId}" aria-label="0">0</button>
                        <button class="tv-numpad-btn tv-numpad-btn--icon" onclick="tvCommand(this, 'mouse')" data-device-id="${deviceId}" aria-label="Mouse">
                            <img src="images/icons/icon-mouse.svg" alt="Mouse">
                        </button>
                    </div>
                </div>
            </div>

            <!-- BLOCO 7: LOGO -->
            <div class="tv-control-section tv-logo-section">
              <img src="images/icons/eletrize.svg" alt="Eletrize" class="tv-eletrize-logo">
            </div>
        </div>

    </div>

</div>
        `;
      }

      function renderMusicAlbum(route, { loading = "lazy", decoding = "async" } = {}) {
        const data = ROOM_IMAGE_DATA[route];
        if (!data) return "";
        return `
          <div class="music-album">
            <img class="music-album-img" src="${data.fallback}" alt="Capa do Ã¡lbum" loading="${loading}" decoding="${decoding}" width="720" height="540">
          </div>
        `;
      }

      function renderMusicPage(envKey) {
        const env = typeof getEnvironment === "function" ? getEnvironment(envKey) : null;
        const envName = env?.name || envKey;
        const device = getEnvPrimaryDevice(envKey, "music");

        if (!device) {
          return `
            <div class="top-bar-custom"></div>
            <div class="page active page-container ${envKey}-page ${envKey}-musica-page">
              <div class="page-header">
                <button class="back-btn" onclick="spaNavigate('${envKey}')">
                  <img src="images/icons/back-button.svg" alt="Voltar">
                </button>
                <h1 class="page-title">${envName}</h1>
              </div>
              <div class="page-body empty-state">
                <p>Defina <strong>music</strong> no config.js para este ambiente.</p>
              </div>
            </div>
          `;
        }

        const metadataId = String(device.metadataId || device.id);
        const transportId = String(device.transportId || device.id);
        const volumeId = String(device.volumeId || device.id);
        const powerId = String(device.powerId || device.id);
        const albumPhoto = renderMusicAlbum(envKey, { loading: "lazy", decoding: "async" });

        return `

<div class="top-bar-custom"></div>

<div class="page active page-container ${envKey}-page ${envKey}-musica-page">

  <div class="page-header">
    <button class="back-btn" onclick="spaNavigate('${envKey}')">
      <img src="images/icons/back-button.svg" alt="Voltar">
    </button>
    <h1 class="page-title">${envName}, MÃºsica</h1>
  </div>

  <div class="${envKey}-musica-wrapper ambiente-grid">
    <div class="control-card control-card--full-width music-player-card" data-metadata-device-id="${metadataId}">
      <div class="music-player-inner">
        <div class="music-player-content">
          <div class="music-primary">
            ${albumPhoto}

            <div class="music-info">
              <div class="music-track">
                <div class="music-track-marquee">
                  <div class="music-track-marquee__inner">
                    <span class="music-track-marquee__text" id="music-track">Nome da MÃºsica</span>
                    <span class="music-track-marquee__text music-track-marquee__text--clone" aria-hidden="true"></span>
                  </div>
                </div>
              </div>
              <div class="music-artist" id="music-artist">Nome do Artista</div>
            </div>
          </div>

          <div class="music-secondary">
            <div class="music-info music-info--desktop">
              <div class="music-track">
                <div class="music-track-marquee">
                  <div class="music-track-marquee__inner">
                    <span class="music-track-marquee__text music-track-sync">Nome da MÃºsica</span>
                    <span class="music-track-marquee__text music-track-marquee__text--clone" aria-hidden="true"></span>
                  </div>
                </div>
              </div>
              <div class="music-artist music-artist-sync">Nome do Artista</div>
            </div>

            <div class="music-controls">
              <div class="tv-playback-controls">
                <button class="tv-btn-icon-small" aria-label="Previous" id="music-prev" data-device-id="${transportId}">
                  <img src="images/icons/icon-previous-track.svg" alt="Prev">
                </button>
                <button class="tv-btn-icon-small music-play-toggle" aria-label="Tocar/Pausar" id="music-play-toggle" aria-pressed="false" data-device-id="${transportId}">
                  <img src="images/icons/icon-play.svg" alt="Play" class="music-play-toggle__icon music-play-toggle__icon--play">
                  <img src="images/icons/icon-pause.svg" alt="Pause" class="music-play-toggle__icon music-play-toggle__icon--pause">
                </button>
                <button class="tv-btn-icon-small" aria-label="Next" id="music-next" data-device-id="${transportId}">
                  <img src="images/icons/icon-next-track.svg" alt="Next">
                </button>
              </div>
            </div>

            <div class="music-volume-section">
              <button class="music-volume-mute-btn" id="music-mute" aria-label="Mute" aria-pressed="false" data-device-id="${volumeId}">
                <img src="images/icons/icon-volume.svg" alt="Volume" class="volume-icon-unmuted">
                <img src="images/icons/icon-mute.svg" alt="Mute" class="volume-icon-muted" style="display:none;">
              </button>
              <div class="music-volume-slider-container">
                <input type="range" min="0" max="100" value="50" class="music-volume-slider" id="music-volume-slider" aria-label="Volume" data-device-id="${volumeId}">
              </div>
            </div>

            <div class="music-master-controls">
              <button class="music-master-btn music-master-btn--on music-master-btn--active" id="music-master-on" aria-label="Ligar" aria-pressed="true" data-device-id="${powerId}">Ligar</button>
              <button class="music-master-btn music-master-btn--off" id="music-master-off" aria-label="Desligar" aria-pressed="false" data-device-id="${powerId}">Desligar</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>

        `;
      }

      function renderAcControlPage(envKey) {
        const env = typeof getEnvironment === "function" ? getEnvironment(envKey) : null;
        const envName = env?.name || envKey;
        const ac = env?.airConditioner || null;

        if (!ac) {
          return `
            <div class="top-bar-custom"></div>
            <div class="page active page-container ${envKey}-page ${envKey}-conforto-page">
              <div class="page-header">
                <button class="back-btn" onclick="spaNavigate('${envKey}')"><img src="images/icons/back-button.svg" alt="Voltar"></button>
                <h1 class="page-title">${envName}</h1>
              </div>
              <div class="page-body empty-state">
                <p>Defina <strong>airConditioner</strong> no config.js para este ambiente.</p>
              </div>
            </div>
          `;
        }

        const zones = Array.isArray(ac.zones) ? ac.zones : [];
        const controls = ac.controls || {};
        const showZones = !!controls.zoneSelector;
        const showAletas = !!controls.aletas;
        const showWindfree = !!controls.windfree;

        const tempConfig = ac.temperature || {};
        const minTemp = Number.isFinite(tempConfig.min) ? tempConfig.min : 18;
        const maxTemp = Number.isFinite(tempConfig.max) ? tempConfig.max : 25;
        const defaultTemp = Number.isFinite(tempConfig.default) ? tempConfig.default : 22;
        const safeDefaultTemp = Math.min(maxTemp, Math.max(minTemp, defaultTemp));
        const acDeviceId = ac?.deviceId ? String(ac.deviceId) : "";
        const acDeviceMap =
          typeof getAcDeviceIds === "function" ? getAcDeviceIds() : {};
        const mappedDeviceId =
          acDeviceMap && acDeviceMap[envKey] ? String(acDeviceMap[envKey]) : "";
        const acOverrideId = acDeviceId || mappedDeviceId;
        const defaultDeviceId =
          acOverrideId ||
          (zones.length && zones[0]?.deviceId ? String(zones[0].deviceId) : "");

        let zoneRow = "";
        if (showZones) {
          if (!zones.length) {
            zoneRow = `
              <div class="acv2-row acv2-row--empty">
                <div class="acv2-empty">Defina <strong>zones</strong> no config.js.</div>
              </div>
            `;
          } else {
            const zoneButtons = zones
              .map((zone, index) => {
                const label = String(index + 1);
                const ariaLabel = zone.name || `Zona ${index + 1}`;
                const deviceId =
                  acOverrideId || (zone.deviceId ? String(zone.deviceId) : "");
                return `
                  <button type="button" class="acv2-btn acv2-zone-btn" data-zone-button data-zone-ids="${deviceId}" aria-pressed="false" aria-label="${ariaLabel}">
                    ${label}
                  </button>
                `;
              })
              .join("");

            const allIds = zones
              .map((zone) =>
                acOverrideId || (zone?.deviceId ? String(zone.deviceId) : "")
              )
              .filter(Boolean);
            const uniqueAllIds = Array.from(new Set(allIds));
            const allButton = uniqueAllIds.length
              ? `
                <button type="button" class="acv2-btn acv2-zone-btn acv2-zone-btn--all" data-zone-button data-zone-ids="${uniqueAllIds.join(",")}" data-zone-default="true" aria-pressed="true" aria-label="Ambas">
                  Ambas
                </button>
              `
              : "";

            zoneRow = `
              <div class="acv2-row acv2-row--zones">
                ${zoneButtons}
                ${allButton}
              </div>
            `;
          }
        }

        let aletaRow = "";
        if (showAletas) {
          const windfreeButton = showWindfree
            ? `
              <button type="button" class="acv2-btn acv2-action-btn" data-aleta-button data-aleta="windfree" aria-pressed="false" aria-label="WindFree">
                <img src="images/icons/icon-windfree.svg" alt="">
                <span>WindFree</span>
              </button>
            `
            : "";

          aletaRow = `
            <div class="acv2-row acv2-row--aletas">
              <button type="button" class="acv2-btn acv2-action-btn" data-aleta-button data-aleta="moving" aria-pressed="false" aria-label="Aletas em movimento">
                <img src="images/icons/icon-ac-aleta-moving.svg" alt="">
                <span>Movendo</span>
              </button>
              ${windfreeButton}
              <button type="button" class="acv2-btn acv2-action-btn" data-aleta-button data-aleta="parada" aria-pressed="false" aria-label="Aletas paradas">
                <img src="images/icons/icon-ac-aleta-parada.svg" alt="">
                <span>Parada</span>
              </button>
            </div>
          `;
        }


        const comfortLabel = uiLabel("comfort", "Ar Condicionado");

        return `
          <div class="top-bar-custom"></div>

          <div class="page active page-container ${envKey}-page ${envKey}-conforto-page">
            <div class="page-header">
              <button class="back-btn" onclick="spaNavigate('${envKey}')">
                <img src="images/icons/back-button.svg" alt="Voltar">
              </button>
              <h1 class="page-title">${envName}, ${comfortLabel}</h1>
            </div>

            <div class="ac-page-wrapper">
              <main class="ac-container acv2-container" data-component="ac-control" data-temp-min="${minTemp}" data-temp-max="${maxTemp}" data-temp-default="${safeDefaultTemp}" data-device-id="${defaultDeviceId}">
                <section class="acv2-card acv2-temp">
                  <div class="acv2-header">
                    <h2 class="acv2-title">Temperatura</h2>
                    <span class="acv2-title-line"></span>
                  </div>
                  <div class="acv2-temp-display">
                    <span class="acv2-temp-value" data-role="temp-current">${safeDefaultTemp}</span>
                    <span class="acv2-temp-unit">C</span>
                  </div>
                  <div class="acv2-slider-block acv2-temp-controls">
                    <input type="range" class="acv2-temp-slider" data-role="temp-slider" min="${minTemp}" max="${maxTemp}" value="${safeDefaultTemp}" step="1" aria-label="Temperatura">
                    <div class="acv2-temp-buttons acv2-temp-buttons--commands">
                      <button type="button" class="acv2-btn" data-role="temp-increase" aria-label="Aumentar temperatura">
                        <img src="images/icons/arrow-up.svg" alt="">
                      </button>
                      <button type="button" class="acv2-btn" data-role="temp-decrease" aria-label="Diminuir temperatura">
                        <img src="images/icons/arrow-down.svg" alt="">
                      </button>
                    </div>
                  </div>
                </section>

                <section class="acv2-card acv2-commands">
                  <div class="acv2-header">
                    <h2 class="acv2-title">Comandos</h2>
                    <span class="acv2-title-line"></span>
                  </div>
                  ${zoneRow}
                  ${aletaRow}
                  <div class="acv2-row acv2-row--power">
                    <button type="button" class="acv2-btn acv2-btn--power" data-role="power-on" aria-pressed="false">On</button>
                    <button type="button" class="acv2-btn acv2-btn--power" data-role="power-off" aria-pressed="true">Off</button>
                  </div>
                </section>

                <span class="sr-only" role="status" aria-live="polite" data-role="temperature-live">Temperatura ajustada para ${safeDefaultTemp}.</span>
              </main>
            </div>
          </div>
        `;
      }

      const CONFIG_SUBPAGE_RULES = [
        { field: "lights", suffix: "luzes" },
        { field: "curtains", suffix: "cortinas" },
        { field: "music", suffix: "musica" },
        { field: "tv", suffix: "tv" },
        { field: "htv", suffix: "htv" },
        { field: "bluray", suffix: "bluray" },
        { field: "appletv", suffix: "appletv" },
        { field: "clarotv", suffix: "clarotv" },
        { field: "roku", suffix: "roku" },
        { field: "games", suffix: "games" },
        { field: "hidromassagem", suffix: "hidromassagem" },
      ];

      function ensureConfigPage(pageKey, pagesRef) {
        if (!pageKey || !pagesRef) return;
        if (typeof getEnvironment !== "function") return;

        const match = String(pageKey).match(/^(ambiente\d+)(?:-(luzes|cortinas|conforto|musica|tv|htv|bluray|appletv|clarotv|roku|games|hidromassagem))?$/);
        if (!match) return;

        const envKey = match[1];
        const sub = match[2] || "";

        if (!getEnvironment(envKey)) return;

        if (typeof pagesRef[pageKey] === "function") {
          console.log(`[ensureConfigPage] PÃ¡gina ${pageKey} jÃ¡ existe, substituindo por config.js`);
        }

        if (!sub) {
          pagesRef[pageKey] = () => {
            const env = getEnvironment(envKey);
            const envName = env?.name || envKey;

            const hasLights = Array.isArray(env?.lights) && env.lights.length > 0;
            const hasCurtains = Array.isArray(env?.curtains) && env.curtains.length > 0;
            const hasAC = env?.airConditioner !== null && env?.airConditioner !== undefined;
            const hasMusic = Array.isArray(env?.music) && env.music.length > 0;
            const hasTV = Array.isArray(env?.tv) && env.tv.length > 0;
            const hasHTV = Array.isArray(env?.htv) && env.htv.length > 0;
            const hasBluray = Array.isArray(env?.bluray) && env.bluray.length > 0;
            const hasAppleTV = Array.isArray(env?.appletv) && env.appletv.length > 0;
            const hasClaroTV = Array.isArray(env?.clarotv) && env.clarotv.length > 0;
            const hasRoku = Array.isArray(env?.roku) && env.roku.length > 0;
            const hasGames = Array.isArray(env?.games) && env.games.length > 0;
            const hasHidro = Array.isArray(env?.hidromassagem) && env.hidromassagem.length > 0;

            console.log(`[ensureConfigPage] Gerando ${envKey}:`, {
              hasLights, hasCurtains, hasAC, hasMusic, hasTV, hasHTV, hasBluray, hasAppleTV, hasClaroTV, hasRoku, hasGames, hasHidro
            });

            const buttons = [];

            if (hasLights) {
              buttons.push(`
                <div class="control-card" data-ui-item="lights" onclick="spaNavigate('${envKey}-luzes')">
                  <img class="control-icon" src="${uiToggleIcon('light','off','images/icons/icon-small-light-off.svg')}" alt="${uiLabel('lights','Luzes')}">
                  <div class="control-label">${uiLabel('lights','Luzes')}</div>
                </div>
              `);
            }

            if (hasCurtains) {
              buttons.push(`
                <div class="control-card" data-ui-item="curtains" onclick="spaNavigate('${envKey}-cortinas')">
                  <img class="control-icon" src="${uiIcon('curtains','images/icons/icon-curtain.svg')}" alt="${uiLabel('curtains','Cortinas')}">
                  <div class="control-label">${uiLabel('curtains','Cortinas')}</div>
                </div>
              `);
            }

            if (hasAC) {
              buttons.push(`
                <div class="control-card" data-ui-item="comfort" onclick="spaNavigate('${envKey}-conforto')">
                  <img class="control-icon" src="${uiIcon('comfort','images/icons/ar-condicionado.svg')}" alt="${uiLabel('comfort','Ar Condicionado')}">
                  <div class="control-label">${uiLabel('comfort','Ar Condicionado')}</div>
                </div>
              `);
            }

            if (hasMusic) {
              buttons.push(`
                <div class="control-card" data-ui-item="music" onclick="spaNavigate('${envKey}-musica')">
                  <img class="control-icon" src="${uiIcon('music','images/icons/icon-musica.svg')}" alt="${uiLabel('music','MÃºsica')}">
                  <div class="control-label">${uiLabel('music','MÃºsica')}</div>
                </div>
              `);
            }

            if (hasTV) {
              buttons.push(`
                <div class="control-card" data-ui-item="tv" onclick="spaNavigate('${envKey}-tv')">
                  <img class="control-icon" src="${uiIcon('tv','images/icons/icon-tv.svg')}" alt="${uiLabel('tv','TelevisÃ£o')}">
                  <div class="control-label">${uiLabel('tv','TelevisÃ£o')}</div>
                </div>
              `);
            }

            if (hasHTV) {
              buttons.push(`
                <div class="control-card" data-ui-item="htv" onclick="spaNavigate('${envKey}-htv')">
                  <img class="control-icon" src="${uiIcon('htv','images/icons/icon-htv.svg')}" alt="${uiLabel('htv','HTV')}">
                  <div class="control-label">${uiLabel('htv','HTV')}</div>
                </div>
              `);
            }

            if (hasBluray) {
              buttons.push(`
                <div class="control-card" data-ui-item="bluray" onclick="spaNavigate('${envKey}-bluray')">
                  <img class="control-icon" src="${uiIcon('bluray','images/icons/icon-bluray.svg')}" alt="${uiLabel('bluray','Blu-ray')}">
                  <div class="control-label">${uiLabel('bluray','Blu-ray')}</div>
                </div>
              `);
            }

            if (hasAppleTV) {
              buttons.push(`
                <div class="control-card" data-ui-item="appletv" onclick="spaNavigate('${envKey}-appletv')">
                  <img class="control-icon" src="${uiIcon('appletv','images/icons/icon-apple-tv.svg')}" alt="${uiLabel('appletv','Apple TV')}">
                  <div class="control-label">${uiLabel('appletv','Apple TV')}</div>
                </div>
              `);
            }

            if (hasClaroTV) {
              buttons.push(`
                <div class="control-card" data-ui-item="clarotv" onclick="spaNavigate('${envKey}-clarotv')">
                  <img class="control-icon" src="${uiIcon('clarotv','images/icons/icon-clarotv.svg')}" alt="${uiLabel('clarotv','Clarotv')}">
                  <div class="control-label">${uiLabel('clarotv','Clarotv')}</div>
                </div>
              `);
            }

            if (hasRoku) {
              buttons.push(`
                <div class="control-card" data-ui-item="roku" onclick="spaNavigate('${envKey}-roku')">
                  <img class="control-icon" src="${uiIcon('roku','images/icons/icon-roku.svg')}" alt="${uiLabel('roku','Roku')}">
                  <div class="control-label">${uiLabel('roku','Roku')}</div>
                </div>
              `);
            }

            if (hasGames) {
              buttons.push(`
                <div class="control-card" data-ui-item="games" onclick="spaNavigate('${envKey}-games')">
                  <img class="control-icon" src="${uiIcon('games','images/icons/icon-games.svg')}" alt="${uiLabel('games','Games')}">
                  <div class="control-label">${uiLabel('games','Games')}</div>
                </div>
              `);
            }

            if (hasHidro) {
              buttons.push(`
                <div class="control-card" data-ui-item="hidromassagem" onclick="spaNavigate('${envKey}-hidromassagem')">
                  <img class="control-icon" src="${uiIcon('hidromassagem','images/icons/icon-hidromassagem.svg')}" alt="${uiLabel('hidromassagem','Hidromassagem')}">
                  <div class="control-label">${uiLabel('hidromassagem','Hidromassagem')}</div>
                </div>
              `);
            }

            return `
              <div class="top-bar-custom"></div>

              <div class="page active page-container ${envKey}-page">
                <div class="page-header">
                  <button class="back-btn" onclick="spaNavigate('home')"><img src="images/icons/back-button.svg" alt="Voltar"></button>
                  <h1 class="page-title">${envName}</h1>
                </div>

                <div class="${envKey}-controls-wrapper ambiente-grid" style="margin-top: 20px;">
                  ${buttons.join("")}
                </div>
              </div>
            `;
          };
          return;
        }

        if (sub === "luzes") {
          pagesRef[pageKey] = () => {
            const env = getEnvironment(envKey);
            const envName = env?.name || envKey;
            const cards = typeof generateLightsControls === "function" ? generateLightsControls(envKey) : "";

            return `
              <div class="top-bar-custom"></div>

              <div class="page active page-container ${envKey}-page ${envKey}-luzes-page">
                <div class="page-header">
                  <button class="back-btn" onclick="spaNavigate('${envKey}')"><img src="images/icons/back-button.svg" alt="Voltar"></button>
                  <h1 class="page-title">${envName}, IluminaÃ§Ã£o</h1>
                </div>

                <div class="${envKey}-luzes-wrapper ambiente-grid" style="margin-top: 20px;">
                  ${cards}
                </div>
              </div>
            `;
          };
          return;
        }

        if (sub === "cortinas") {
          pagesRef[pageKey] = () => {
            const env = getEnvironment(envKey);
            const envName = env?.name || envKey;
            const cards = typeof generateCurtainsControls === "function" ? generateCurtainsControls(envKey) : "";

            return `
              <div class="top-bar-custom"></div>

              <div class="page active page-container ${envKey}-page ${envKey}-cortinas-page">
                <div class="page-header">
                  <button class="back-btn" onclick="spaNavigate('${envKey}')"><img src="images/icons/back-button.svg" alt="Voltar"></button>
                  <h1 class="page-title">${envName}, Cortinas</h1>
                </div>

                <div class="${envKey}-cortinas-wrapper ${envKey}-cortinas-grid">
                  ${cards}
                </div>
              </div>
            `;
          };
        }

        if (sub === "conforto") {
          const env = getEnvironment(envKey);
          if (!env?.airConditioner) return;
          pagesRef[pageKey] = () => renderAcControlPage(envKey);
          return;
        }

        if (sub === "musica") {
          pagesRef[pageKey] = () => renderMusicPage(envKey);
          return;
        }

        if (sub === "tv" || sub === "htv" || sub === "bluray" || sub === "appletv" || sub === "clarotv" || sub === "roku" || sub === "games" || sub === "hidromassagem") {
          pagesRef[pageKey] = () => renderTvControlPage(envKey, sub, uiLabel(sub, sub.toUpperCase()));
          return;
        }
      }

      function collectConfigDrivenRoutes() {
        if (typeof getVisibleEnvironments !== "function") {
          return [];
        }

        const routes = new Set();

        try {
          const environments = getVisibleEnvironments();
          environments.forEach((env) => {
            const envKey = env?.key;
            if (!envKey) {
              return;
            }

            routes.add(envKey);

            if (env?.airConditioner !== null && env?.airConditioner !== undefined) {
              routes.add(`${envKey}-conforto`);
            }

            CONFIG_SUBPAGE_RULES.forEach(({ field, suffix }) => {
              const value = env?.[field];
              if (Array.isArray(value) && value.length > 0) {
                routes.add(`${envKey}-${suffix}`);
              }
            });
          });
        } catch (error) {
          console.warn("collectConfigDrivenRoutes falhou", error);
        }

        return Array.from(routes);
      }

      function prebuildConfigPages(pagesRef) {
        if (!pagesRef) {
          return Promise.resolve();
        }

        return new Promise((resolve) => {
          requestIdleCallback(() => {
            try {
              const routes = collectConfigDrivenRoutes();
              let processed = 0;
              const total = routes.length;

              if (typeof window.updateProgress === 'function') {
                window.updateProgress(5, `Preparando ${total} pÃ¡ginas...`);
              }

              const processChunk = () => {
                const chunkSize = 3;
                const start = processed;
                const end = Math.min(start + chunkSize, routes.length);

                for (let i = start; i < end; i++) {
                  const route = routes[i];

                  if (typeof ensureConfigPage === "function") {
                    ensureConfigPage(route, pagesRef);
                  }

                  if (typeof pagesRef[route] !== "function" || pageCache.has(route)) {
                    continue;
                  }

                  const template = document.createElement("template");
                  template.innerHTML = pagesRef[route]();
                  pageCache.set(route, template.content);

                  const envMatch = /^[a-z]+\d+$/.test(route) ? route : null;
                  if (envMatch) {
                    preloadRoomBackground(route);
                  }
                }

                processed = end;

                if (typeof window.updateProgress === 'function' && total > 0) {
                  const progress = 5 + Math.round((processed / total) * 10);
                  window.updateProgress(progress, `PÃ¡gina ${processed}/${total}`);
                }

                if (processed < routes.length) {
                  requestIdleCallback(processChunk, { timeout: 100 });
                } else {
                  if (typeof window.updateProgress === 'function') {
                    window.updateProgress(15, "PÃ¡ginas prontas!");
                  }
                  resolve();
                }
              };

              processChunk();
            } catch (error) {
              console.warn("prebuildConfigPages falhou", error);
              resolve();
            }
          }, { timeout: 50 });
        });
      }

      function renderCurtainControlCard(curtain, environment) {
        const { deviceId, title, description } = curtain;
        return `
        <article class="curtain-tile" data-device-id="${deviceId}" data-environment="${environment}">
            <header class="curtain-tile__header">
                <h3 class="curtain-tile__title">${title}</h3>
                ${
                  description
                    ? `<p class="curtain-tile__subtitle">${description}</p>`
                    : ""
                }
            </header>
            <div class="curtain-tile__actions">
                <button class="curtain-tile__btn" data-device-id="${deviceId}" onclick="curtainAction(this, 'open')" aria-label="Abrir ${title}">
                  <img src="images/icons/open-curtain.svg" alt="Abrir">
                </button>
                <button class="curtain-tile__btn curtain-tile__btn--stop" data-device-id="${deviceId}" onclick="curtainAction(this, 'stop')" aria-label="Parar ${title}">
                    <img src="images/icons/icon-stop.svg" alt="Parar">
                </button>
                <button class="curtain-tile__btn" data-device-id="${deviceId}" onclick="curtainAction(this, 'close')" aria-label="Fechar ${title}">
                  <img src="images/icons/close-curtain.svg" alt="Fechar">
                </button>
            </div>
        </article>`;
      }

      function renderCurtainSection(section) {
        return `
        <section class="curtain-section" data-section="${section.key}">
            <div class="curtain-section__wrapper">
                <header class="curtain-section__header">
                    <h2 class="curtain-section__title">${section.name}</h2>
                    <div class="curtain-section__line"></div>
                </header>
                <div class="curtain-section__grid">
                    ${section.curtains
                      .map((curtain) =>
                        renderCurtainControlCard(curtain, section.name)
                      )
                      .join("")}
                </div>
            </div>
        </section>`;
      }

      const APP_INFO_VERSION_FALLBACK = "1.2";

      const APP_INFO_VISIBLE_CLASS = "is-visible";

      const appInfoOverlay = document.getElementById("app-info-overlay");

      const appInfoVersionLabel = document.getElementById("app-info-version");

      const fullscreenToggleBtn = document.getElementById(
        "app-fullscreen-toggle"
      );
      const cacheClearBtn = document.getElementById("app-cache-clear");
      const instagramLink = document.getElementById("app-instagram-link");
      const supportLink = document.getElementById("app-support-link");

      let appInfoReturnFocusElement = null;

      let fullscreenListenersBound = false;

      function resolveAppInfoVersion() {
        try {
          if (
            typeof CLIENT_CONFIG === "object" &&
            CLIENT_CONFIG &&
            typeof CLIENT_CONFIG.clientInfo === "object" &&
            CLIENT_CONFIG.clientInfo &&
            CLIENT_CONFIG.clientInfo.version
          ) {
            return String(CLIENT_CONFIG.clientInfo.version);
          }
        } catch (_err) {
          // ignore
        }

        return APP_INFO_VERSION_FALLBACK;
      }

      function updateAppInfoVersion() {
        if (appInfoVersionLabel) {
          appInfoVersionLabel.textContent = "v" + resolveAppInfoVersion();
        }
      }

      function openAppInfoMenu() {
        if (!appInfoOverlay) return;

        appInfoReturnFocusElement =
          document.activeElement instanceof HTMLElement
            ? document.activeElement
            : null;

        appInfoOverlay.classList.add(APP_INFO_VISIBLE_CLASS);

        appInfoOverlay.setAttribute("aria-hidden", "false");

        document.body.classList.add("app-info-open");

        updateFullscreenOptionLabel();

        const dialog = appInfoOverlay.querySelector(".app-info-dialog");

        if (dialog && typeof dialog.focus === "function") {
          dialog.setAttribute("tabindex", "-1");

          try {
            dialog.focus({ preventScroll: true });
          } catch (err) {
            dialog.focus();
          }
        }
      }

      function closeAppInfoMenu() {
        if (!appInfoOverlay) return;

        appInfoOverlay.classList.remove(APP_INFO_VISIBLE_CLASS);

        appInfoOverlay.setAttribute("aria-hidden", "true");

        document.body.classList.remove("app-info-open");

        if (
          appInfoReturnFocusElement &&
          typeof appInfoReturnFocusElement.focus === "function"
        ) {
          appInfoReturnFocusElement.focus();
        }
      }

      function isFullscreenActive() {
        return Boolean(
          document.fullscreenElement ||
            document.webkitFullscreenElement ||
            document.msFullscreenElement
        );
      }

      function updateFullscreenOptionLabel() {
        if (!fullscreenToggleBtn) return;

        const label = fullscreenToggleBtn.querySelector(
          ".app-info-option__label"
        );

        if (!label) return;

        const isActive = isFullscreenActive();

        const labelText = isActive
          ? "Sair do modo tela cheia"
          : "Ativar tela cheia";

        label.textContent = labelText;
        fullscreenToggleBtn.setAttribute("aria-label", labelText);
      }

      function toggleFullscreen() {
        const doc = document;
        const docEl = doc.documentElement;
        const active = isFullscreenActive();

        let action;

        if (!active) {
          const request =
            docEl.requestFullscreen ||
            docEl.webkitRequestFullscreen ||
            docEl.msRequestFullscreen;

          if (!request) {
            console.warn("Fullscreen API indisponivel neste navegador.");
            closeAppInfoMenu();
            updateFullscreenOptionLabel();
            return;
          }

          action = request.call(docEl);
        } else {
          const exit =
            doc.exitFullscreen ||
            doc.webkitExitFullscreen ||
            doc.msExitFullscreen;

          if (!exit) {
            closeAppInfoMenu();
            updateFullscreenOptionLabel();
            return;
          }

          action = exit.call(doc);
        }

        closeAppInfoMenu();

        if (action && typeof action.then === "function") {
          action.catch(() => {}).finally(updateFullscreenOptionLabel);
        } else {
          updateFullscreenOptionLabel();
        }
      }

      function onFullscreenToggleClick(event) {
        event.preventDefault();
        toggleFullscreen();
      }

      function onCacheClearClick(event) {
        event.preventDefault();

        closeAppInfoMenu();

        if (typeof window.brutalCacheClear === "function") {
          window.brutalCacheClear();
        } else {
          console.warn("Funcao brutalCacheClear indisponivel.");
        }
      }

      window.toggleFullscreen = toggleFullscreen;

      function handleAppLogoTrigger(event) {
        event.preventDefault();

        openAppInfoMenu();
      }

      function setupAppInfoMenu() {
        document.querySelectorAll(".app-logo-trigger").forEach((trigger) => {
          trigger.removeEventListener("click", handleAppLogoTrigger);

          trigger.addEventListener("click", handleAppLogoTrigger);
        });
      }

      function initializeAppInfoMenu() {
        if (!appInfoOverlay) return;

        if (appInfoOverlay.dataset.ready === "true") return;

        appInfoOverlay.dataset.ready = "true";

        updateAppInfoVersion();

        appInfoOverlay.addEventListener("click", (event) => {
          if (event.target === appInfoOverlay) {
            closeAppInfoMenu();
          }
        });

        const closeBtn = appInfoOverlay.querySelector(".app-info-close");

        if (closeBtn) {
          closeBtn.addEventListener("click", closeAppInfoMenu);
        }

        if (fullscreenToggleBtn) {
          fullscreenToggleBtn.removeEventListener(
            "click",
            onFullscreenToggleClick
          );

          fullscreenToggleBtn.addEventListener(
            "click",
            onFullscreenToggleClick
          );

          updateFullscreenOptionLabel();
        }

        if (cacheClearBtn) {
          cacheClearBtn.removeEventListener("click", onCacheClearClick);
          cacheClearBtn.addEventListener("click", onCacheClearClick);
        }
        if (instagramLink) {
          instagramLink.removeEventListener("click", closeAppInfoMenu);
          instagramLink.addEventListener("click", closeAppInfoMenu);
        }

        if (supportLink) {
          supportLink.removeEventListener("click", closeAppInfoMenu);
          supportLink.addEventListener("click", closeAppInfoMenu);
        }

        if (!fullscreenListenersBound) {
          [
            "fullscreenchange",
            "webkitfullscreenchange",
            "mozfullscreenchange",
            "msfullscreenchange",
          ].forEach((evt) => {
            document.addEventListener(evt, updateFullscreenOptionLabel);
          });

          fullscreenListenersBound = true;
        }

        document.addEventListener("keydown", (event) => {
          if (
            event.key === "Escape" &&
            appInfoOverlay.classList.contains(APP_INFO_VISIBLE_CLASS)
          ) {
            closeAppInfoMenu();
          }
        });
      }

      const pages = {
        curtains: () => `
      <main class="container curtains-page-container">

        <div class="page active curtains-page">

                    <div class="curtain-layout">

                        ${CURTAIN_SECTIONS.map(renderCurtainSection).join("")}

                    </div>

                </div>

            </main>

        `,

        "ambiente1-musica": () => `

<div class="top-bar-custom"></div>

<div class="page active page-container ambiente1-page ambiente1-musica-page">

  <div class="page-header">
    <button class="back-btn" onclick="spaNavigate('ambiente1')">
      <img src="images/icons/back-button.svg" alt="Voltar">
    </button>
    <h1 class="page-title">Varanda, MÃºsica</h1>
  </div>

  <div class="ambiente1-musica-wrapper ambiente-grid">
    <div class="control-card control-card--full-width music-player-card" data-metadata-device-id="29">
      <div class="music-player-inner">
        <div class="music-player-content">
            <div class="music-primary">
            ${renderMusicAlbum("ambiente1")}

            <div class="music-info">
              <div class="music-track">
                <div class="music-track-marquee">
                  <div class="music-track-marquee__inner">
                    <span class="music-track-marquee__text" id="music-track">Nome da MÃºsica</span>
                    <span class="music-track-marquee__text music-track-marquee__text--clone" aria-hidden="true"></span>
                  </div>
                </div>
              </div>
              <div class="music-artist" id="music-artist">Nome do Artista</div>
            </div>
          </div>

          <div class="music-secondary">
            <div class="music-info music-info--desktop">
              <div class="music-track">
                <div class="music-track-marquee">
                  <div class="music-track-marquee__inner">
                    <span class="music-track-marquee__text music-track-sync">Nome da MÃºsica</span>
                    <span class="music-track-marquee__text music-track-marquee__text--clone" aria-hidden="true"></span>
                  </div>
                </div>
              </div>
              <div class="music-artist music-artist-sync">Nome do Artista</div>
            </div>

            <div class="music-controls">
              <div class="tv-playback-controls">
                <button class="tv-btn-icon-small" aria-label="Previous" id="music-prev" data-device-id="29">
                  <img src="images/icons/icon-previous-track.svg" alt="Prev">
                </button>
                <button class="tv-btn-icon-small music-play-toggle" aria-label="Tocar/Pausar" id="music-play-toggle" aria-pressed="false" data-device-id="29">
                  <img src="images/icons/icon-play.svg" alt="Play" class="music-play-toggle__icon music-play-toggle__icon--play">
                  <img src="images/icons/icon-pause.svg" alt="Pause" class="music-play-toggle__icon music-play-toggle__icon--pause">
                </button>
                <button class="tv-btn-icon-small" aria-label="Next" id="music-next" data-device-id="29">
                  <img src="images/icons/icon-next-track.svg" alt="Next">
                </button>
              </div>
            </div>

            <div class="music-volume-section">
              <button class="music-volume-mute-btn" id="music-mute" aria-label="Mute" aria-pressed="false" data-device-id="15">
                <img src="images/icons/icon-volume.svg" alt="Volume" class="volume-icon-unmuted">
                <img src="images/icons/icon-mute.svg" alt="Mute" class="volume-icon-muted" style="display:none;">
              </button>
              <div class="music-volume-slider-container">
                <input type="range" min="0" max="100" value="50" class="music-volume-slider" id="music-volume-slider" aria-label="Volume" data-device-id="15">
              </div>
            </div>

            <div class="music-master-controls">
              <button class="music-master-btn music-master-btn--on music-master-btn--active" id="music-master-on" aria-label="Ligar" aria-pressed="true" data-device-id="15">Ligar</button>
              <button class="music-master-btn music-master-btn--off" id="music-master-off" aria-label="Desligar" aria-pressed="false" data-device-id="15">Desligar</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>

    `,

        "ambiente2-musica": () => `

<div class="top-bar-custom"></div>

<div class="page active page-container ambiente2-page ambiente2-musica-page">

  <div class="page-header">
    <button class="back-btn" onclick="spaNavigate('ambiente2')">
      <img src="images/icons/back-button.svg" alt="Voltar">
    </button>
    <h1 class="page-title">Living, MÃºsica</h1>
  </div>

  <div class="ambiente2-musica-wrapper ambiente-grid">
    <div class="control-card control-card--full-width music-player-card" data-metadata-device-id="29">
      <div class="music-player-inner">
        <div class="music-player-content">
            <div class="music-primary">
            ${renderMusicAlbum("ambiente2")}

            <div class="music-info">
              <div class="music-track">
                <div class="music-track-marquee">
                  <div class="music-track-marquee__inner">
                    <span class="music-track-marquee__text" id="music-track">Nome da MÃºsica</span>
                    <span class="music-track-marquee__text music-track-marquee__text--clone" aria-hidden="true"></span>
                  </div>
                </div>
              </div>
              <div class="music-artist" id="music-artist">Nome do Artista</div>
            </div>
          </div>

          <div class="music-secondary">
            <div class="music-info music-info--desktop">
              <div class="music-track">
                <div class="music-track-marquee">
                  <div class="music-track-marquee__inner">
                    <span class="music-track-marquee__text music-track-sync">Nome da MÃºsica</span>
                    <span class="music-track-marquee__text music-track-marquee__text--clone" aria-hidden="true"></span>
                  </div>
                </div>
              </div>
              <div class="music-artist music-artist-sync">Nome do Artista</div>
            </div>

            <div class="music-controls">
              <div class="tv-playback-controls">
                <button class="tv-btn-icon-small" aria-label="Previous" id="music-prev" data-device-id="29">
                  <img src="images/icons/icon-previous-track.svg" alt="Faixa anterior">
                </button>
                <button class="tv-btn-icon-small music-play-toggle" aria-label="Tocar/Pausar" id="music-play-toggle" aria-pressed="false" data-device-id="29">
                  <img src="images/icons/icon-play.svg" alt="Tocar" class="music-play-toggle__icon music-play-toggle__icon--play">
                  <img src="images/icons/icon-pause.svg" alt="Pausar" class="music-play-toggle__icon music-play-toggle__icon--pause">
                </button>
                <button class="tv-btn-icon-small" aria-label="Next" id="music-next" data-device-id="29">
                  <img src="images/icons/icon-next-track.svg" alt="PrÃ³xima faixa">
                </button>
              </div>
            </div>

            <div class="music-volume-section">
              <button class="music-volume-mute-btn" id="music-mute" aria-label="Mute" aria-pressed="false" data-device-id="195">
                <img src="images/icons/icon-volume.svg" alt="Volume" class="volume-icon-unmuted">
                <img src="images/icons/icon-mute.svg" alt="Mute" class="volume-icon-muted" style="display:none;">
              </button>
              <div class="music-volume-slider-container">
                <input type="range" min="0" max="100" value="50" class="music-volume-slider" id="music-volume-slider" aria-label="Volume" data-device-id="195">
              </div>
            </div>

            <div class="music-master-controls">
              <button class="music-master-btn music-master-btn--on music-master-btn--active" id="music-master-on" aria-label="Ligar" aria-pressed="true" data-device-id="195">Ligar</button>
              <button class="music-master-btn music-master-btn--off" id="music-master-off" aria-label="Desligar" aria-pressed="false" data-device-id="195">Desligar</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>

    `,

        "ambiente3-musica": () => `

<div class="top-bar-custom"></div>

<div class="page active page-container ambiente3-page ambiente3-musica-page">

  <div class="page-header">
    <button class="back-btn" onclick="spaNavigate('ambiente3')">
      <img src="images/icons/back-button.svg" alt="Voltar">
    </button>
    <h1 class="page-title">Piscina, MÃºsica</h1>
  </div>

  <div class="ambiente3-musica-wrapper ambiente-grid">
    <div class="control-card control-card--full-width music-player-card" data-metadata-device-id="29">
      <div class="music-player-inner">
        <div class="music-player-content">
            <div class="music-primary">
            ${renderMusicAlbum("ambiente3")}

            <div class="music-info">
              <div class="music-track">
                <div class="music-track-marquee">
                  <div class="music-track-marquee__inner">
                    <span class="music-track-marquee__text" id="music-track">Nome da MÃºsica</span>
                    <span class="music-track-marquee__text music-track-marquee__text--clone" aria-hidden="true"></span>
                  </div>
                </div>
              </div>
              <div class="music-artist" id="music-artist">Nome do Artista</div>
            </div>
          </div>

          <div class="music-secondary">
            <div class="music-info music-info--desktop">
              <div class="music-track">
                <div class="music-track-marquee">
                  <div class="music-track-marquee__inner">
                    <span class="music-track-marquee__text music-track-sync">Nome da MÃºsica</span>
                    <span class="music-track-marquee__text music-track-marquee__text--clone" aria-hidden="true"></span>
                  </div>
                </div>
              </div>
              <div class="music-artist music-artist-sync">Nome do Artista</div>
            </div>

            <div class="music-controls">
              <div class="tv-playback-controls">
                <button class="tv-btn-icon-small" aria-label="Previous" id="music-prev" data-device-id="29">
                  <img src="images/icons/icon-previous-track.svg" alt="Faixa anterior">
                </button>
                <button class="tv-btn-icon-small music-play-toggle" aria-label="Tocar/Pausar" id="music-play-toggle" aria-pressed="false" data-device-id="29">
                  <img src="images/icons/icon-play.svg" alt="Tocar" class="music-play-toggle__icon music-play-toggle__icon--play">
                  <img src="images/icons/icon-pause.svg" alt="Pausar" class="music-play-toggle__icon music-play-toggle__icon--pause">
                </button>
                <button class="tv-btn-icon-small" aria-label="Next" id="music-next" data-device-id="29">
                  <img src="images/icons/icon-next-track.svg" alt="PrÃ³xima faixa">
                </button>
              </div>
            </div>

            <div class="music-volume-section">
              <button class="music-volume-mute-btn" id="music-mute" aria-label="Mute" aria-pressed="false" data-device-id="15">
                <img src="images/icons/icon-volume.svg" alt="Volume" class="volume-icon-unmuted">
                <img src="images/icons/icon-mute.svg" alt="Mute" class="volume-icon-muted" style="display:none;">
              </button>
              <div class="music-volume-slider-container">
                <input type="range" min="0" max="100" value="50" class="music-volume-slider" id="music-volume-slider" aria-label="Volume" data-device-id="15">
              </div>
            </div>

            <div class="music-master-controls">
              <button class="music-master-btn music-master-btn--on music-master-btn--active" id="music-master-on" aria-label="Ligar" aria-pressed="true" data-device-id="15">Ligar</button>
              <button class="music-master-btn music-master-btn--off" id="music-master-off" aria-label="Desligar" aria-pressed="false" data-device-id="15">Desligar</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>

    `,

        scenes: () => `
             <main class="container">

                <div class="page active">

                    <div class="controls-grid" style="top: 130px; grid-template-columns: 1fr; grid-auto-rows: min-content; gap: 15px;">

                        <div class="control-card large scene-control-card" id="cenario-dormir-btn" onclick="handleCenarioDormir()">

                            <img class="control-icon" src="images/icons/Encerrar-expediente.svg" alt="Dormir">

                            <div class="control-label">Dormir</div>

                        </div>

                    </div>

                </div>

            </main>

        `,

        home: () => `
            <main class="container">

                <div class="page active" id="home-page">

                    <div class="rooms-frame">

                        <div class="rooms-list"></div>

                    </div>

                </div>

            </main>

        `,

        "ambiente1-tv": () => `

<div class="top-bar-custom"></div>

<div class="page active page-container ambiente1-page ambiente1-tv-page">

    <div class="page-header">
        <button class="back-btn" onclick="spaNavigate('ambiente1')">
            <img src="images/icons/back-button.svg" alt="Voltar">
        </button>
        <h1 class="page-title">Controle TV</h1>
    </div>

    <div class="tv-control-wrapper">
        
        <!-- COLUNA 1 -->
        <div class="tv-controls-col tv-col-1">
            <!-- BLOCO 1: ON/OFF -->
            <div class="tv-control-section">
                <header class="tv-section-header">
                    <h3 class="tv-section-title">On / Off</h3>
                    <div class="tv-section-line"></div>
                </header>
                <div class="tv-control-group tv-power-group">
          <button class="tv-btn tv-btn--power-on" onclick="tvMacroOn()" aria-label="Ligar">
            ON
          </button>
          <button class="tv-btn tv-btn--power-off" onclick="tvMacroOff()" aria-label="Desligar">
            OFF
          </button>
                </div>
            </div>

            <!-- BLOCO 4 E 5: VOLUME E CANAIS (lado a lado) -->
            <div class="tv-volume-canais-wrapper">
                
                <!-- BLOCO 4: VOLUME -->
                <div class="tv-control-section">
                    <header class="tv-section-header">
                        <h3 class="tv-section-title">Volume</h3>
                        <span class="tv-volume-value" id="tv-volume-display">50</span>
                        <div class="tv-section-line"></div>
                    </header>
                    <div class="tv-control-group tv-volume-slider-container">
                        <input 
                            type="range" 
                            class="tv-volume-slider" 
                            id="tv-volume-slider"
                            min="0" 
                            max="100" 
                            value="50"
                            data-device-id="15"
                            aria-label="Controle de Volume"
                        >
                    </div>
                </div>

                <!-- BLOCO 5: CANAIS -->
                <div class="tv-control-section">
                    <header class="tv-section-header">
                        <h3 class="tv-section-title">Canais</h3>
                        <div class="tv-section-line"></div>
                    </header>
                    <div class="tv-control-group tv-volume-channels-inline">
                        
                        <!-- Coluna Canais -->
                        <div class="tv-channels-column">
                            <div class="tv-channels-buttons">
                <button class="tv-btn-square" onclick="tvCommand(this, 'channelDown')" data-device-id="111" aria-label="Canal +">
                                    <img src="images/icons/arrow-up.svg" alt="Canal +" class="tv-btn-icon-img">
                                </button>
                <button class="tv-btn-square" onclick="tvCommand(this, 'channelUp')" data-device-id="111" aria-label="Canal -">
                                    <img src="images/icons/arrow-down.svg" alt="Canal -" class="tv-btn-icon-img">
                                </button>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
        </div>

        <!-- COLUNA 2 -->
        <div class="tv-controls-col tv-col-2">
            <!-- BLOCO 3: COMANDOS (Back, Menu, Home, Mute) -->
            <div class="tv-control-section">
                <header class="tv-section-header">
                    <h3 class="tv-section-title">Comandos</h3>
                    <div class="tv-section-line"></div>
                </header>
                <div class="tv-control-group tv-commands-grid">
                    <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'returnButton')" data-device-id="111" aria-label="Voltar">
                        <img src="images/icons/back-button.svg" alt="Voltar">
                    </button>
                    <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'hdmi2')" data-device-id="111" aria-label="Menu">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="3" y1="12" x2="21" y2="12"></line>
                            <line x1="3" y1="6" x2="21" y2="6"></line>
                            <line x1="3" y1="18" x2="21" y2="18"></line>
                        </svg>
                    </button>
                    <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'mute')" data-device-id="111" aria-label="Mudo">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                            <line x1="23" y1="9" x2="17" y2="15"></line>
                            <line x1="17" y1="9" x2="23" y2="15"></line>
                        </svg>
                    </button>
                    <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'home')" data-device-id="111" aria-label="Home">
                        <img src="images/icons/icon-home.svg" alt="Home">
                    </button>
                </div>
            </div>

            <!-- BLOCO 2: CONTROLE (D-PAD) -->
            <div class="tv-control-section">
                <header class="tv-section-header">
                    <h3 class="tv-section-title">Controle</h3>
                    <div class="tv-section-line"></div>
                </header>
                <div class="tv-control-group tv-directional-row">
                    <div class="tv-directional-section">
                        <div class="tv-directional-pad">
                            <!-- Linha 1: UP -->
                            <button class="tv-directional-btn tv-directional-btn--up" onclick="tvCommand(this, 'cursorUp')" data-device-id="111" aria-label="Cima">
                                <img src="images/icons/arrow-up.svg" alt="Cima" class="tv-btn-icon-img">
                            </button>
                            
                            <!-- Linha 2: LEFT, OK, RIGHT -->
                            <div class="tv-directional-row-line">
                                <button class="tv-directional-btn tv-directional-btn--left" onclick="tvCommand(this, 'cursorLeft')" data-device-id="111" aria-label="Esquerda">
                                    <img src="images/icons/arrow-left.svg" alt="Esquerda" class="tv-btn-icon-img">
                                </button>
                                <button class="tv-directional-btn tv-directional-btn--ok" onclick="tvCommand(this, 'cursorCenter')" data-device-id="111" aria-label="OK">
                                    <div class="tv-ok-circle"></div>
                                </button>
                                <button class="tv-directional-btn tv-directional-btn--right" onclick="tvCommand(this, 'cursorRight')" data-device-id="111" aria-label="Direita">
                                    <img src="images/icons/arrow-right.svg" alt="Direita" class="tv-btn-icon-img">
                                </button>
                            </div>
                            
                            <!-- Linha 3: DOWN -->
                            <button class="tv-directional-btn tv-directional-btn--down" onclick="tvCommand(this, 'cursorDown')" data-device-id="111" aria-label="Baixo">
                                <img src="images/icons/arrow-down.svg" alt="Baixo" class="tv-btn-icon-img">
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- COLUNA 3 -->
        <div class="tv-controls-col tv-col-3">
            <!-- BLOCO 6: NÃšMEROS -->
            <div class="tv-control-section">
                <header class="tv-section-header">
                    <h3 class="tv-section-title">NÃºmeros</h3>
                    <div class="tv-section-line"></div>
                </header>
                <div class="tv-control-group">
                    <div class="tv-numpad">
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num1')" data-device-id="111" aria-label="1">1</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num2')" data-device-id="111" aria-label="2">2</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num3')" data-device-id="111" aria-label="3">3</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num4')" data-device-id="111" aria-label="4">4</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num5')" data-device-id="111" aria-label="5">5</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num6')" data-device-id="111" aria-label="6">6</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num7')" data-device-id="111" aria-label="7">7</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num8')" data-device-id="111" aria-label="8">8</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num9')" data-device-id="111" aria-label="9">9</button>
                        <button class="tv-numpad-btn tv-numpad-btn--icon" onclick="tvCommand(this, 'returnButton')" data-device-id="111" aria-label="Voltar">
                            <img src="images/icons/back-button.svg" alt="Back">
                        </button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num0')" data-device-id="111" aria-label="0">0</button>
                        <button class="tv-numpad-btn tv-numpad-btn--icon" onclick="fireTVMacro()" aria-label="Fire TV">
                            <img src="images/icons/icon-firetv.svg" alt="Fire TV">
                        </button>
                    </div>
                </div>
            </div>

            <!-- BLOCO 7: LOGO ELETRIZE -->
            <div class="tv-control-section tv-logo-section">
                <img src="images/icons/eletrize.svg" alt="Eletrize" class="tv-eletrize-logo">
            </div>
        </div>

    </div>

</div>

        `,

        "ambiente1-htv": () => `

    <div class="top-bar-custom"></div>

    <div class="page active page-container ambiente1-page ambiente1-htv-page">

      <div class="page-header">
        <button class="back-btn" onclick="spaNavigate('ambiente1')">
          <img src="images/icons/back-button.svg" alt="Voltar">
        </button>
        <h1 class="page-title">Controle TV</h1>
      </div>

      <div class="tv-control-wrapper">
        
        <!-- COLUNA 1 -->
        <div class="tv-controls-col tv-col-1">
          <!-- BLOCO 1: ON/OFF -->
          <div class="tv-control-section">
            <header class="tv-section-header">
              <h3 class="tv-section-title">On / Off</h3>
              <div class="tv-section-line"></div>
            </header>
            <div class="tv-control-group tv-power-group">
              <button class="tv-btn tv-btn--power-on" onclick="htvMacroOn()" aria-label="Ligar">
                ON
              </button>
              <button class="tv-btn tv-btn--power-off" onclick="htvMacroOff()" aria-label="Desligar">
                OFF
              </button>
            </div>
          </div>

          <!-- BLOCO 4 E 5: VOLUME E CANAIS (lado a lado) -->
          <div class="tv-volume-canais-wrapper">
                
            <!-- BLOCO 4: VOLUME -->
            <div class="tv-control-section">
              <header class="tv-section-header">
                <h3 class="tv-section-title">Volume</h3>
                <span class="tv-volume-value" id="tv-volume-display">50</span>
                <div class="tv-section-line"></div>
              </header>
              <div class="tv-control-group tv-volume-slider-container">
                <input 
                  type="range" 
                  class="tv-volume-slider" 
                  id="tv-volume-slider"
                  min="0" 
                  max="100" 
                  value="50"
                  data-device-id="15"
                  aria-label="Controle de Volume"
                >
              </div>
            </div>

            <!-- BLOCO 5: CANAIS -->
            <div class="tv-control-section">
              <header class="tv-section-header">
                <h3 class="tv-section-title">Canais</h3>
                <div class="tv-section-line"></div>
              </header>
              <div class="tv-control-group tv-volume-channels-inline">
                        
                <!-- Coluna Canais -->
                <div class="tv-channels-column">
                  <div class="tv-channels-buttons">
            <button class="tv-btn-square" onclick="tvCommand(this, 'channelDown')" data-device-id="114" aria-label="Canal +">
                      <img src="images/icons/arrow-up.svg" alt="Canal +" class="tv-btn-icon-img">
                    </button>
            <button class="tv-btn-square" onclick="tvCommand(this, 'channelUp')" data-device-id="114" aria-label="Canal -">
                      <img src="images/icons/arrow-down.svg" alt="Canal -" class="tv-btn-icon-img">
                    </button>
                  </div>
                </div>

              </div>
            </div>

          </div>
        </div>

        <!-- COLUNA 2 -->
        <div class="tv-controls-col tv-col-2">
          <!-- BLOCO 3: COMANDOS (Back, Menu, Home, Mute) -->
          <div class="tv-control-section">
            <header class="tv-section-header">
              <h3 class="tv-section-title">Comandos</h3>
              <div class="tv-section-line"></div>
            </header>
            <div class="tv-control-group tv-commands-grid">
              <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'returnButton')" data-device-id="114" aria-label="Voltar">
                <img src="images/icons/back-button.svg" alt="Voltar">
              </button>
              <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'menu')" data-device-id="114" aria-label="Menu">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <line x1="3" y1="12" x2="21" y2="12"></line>
                  <line x1="3" y1="6" x2="21" y2="6"></line>
                  <line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
              </button>
              <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'volMute')" data-device-id="114" aria-label="Mudo">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                  <line x1="23" y1="9" x2="17" y2="15"></line>
                  <line x1="17" y1="9" x2="23" y2="15"></line>
                </svg>
              </button>
              <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'home')" data-device-id="114" aria-label="Home">
                <img src="images/icons/icon-home.svg" alt="Home">
              </button>
            </div>
          </div>

          <!-- BLOCO 2: CONTROLE (D-PAD) -->
          <div class="tv-control-section">
            <header class="tv-section-header">
              <h3 class="tv-section-title">Controle</h3>
              <div class="tv-section-line"></div>
            </header>
            <div class="tv-control-group tv-directional-row">
              <div class="tv-directional-section">
                <div class="tv-directional-pad">
                  <!-- Linha 1: UP -->
                  <button class="tv-directional-btn tv-directional-btn--up" onclick="tvCommand(this, 'cursorUp')" data-device-id="114" aria-label="Cima">
                    <img src="images/icons/arrow-up.svg" alt="Cima" class="tv-btn-icon-img">
                  </button>
                            
                  <!-- Linha 2: LEFT, OK, RIGHT -->
                  <div class="tv-directional-row-line">
                    <button class="tv-directional-btn tv-directional-btn--left" onclick="tvCommand(this, 'cursorLeft')" data-device-id="114" aria-label="Esquerda">
                      <img src="images/icons/arrow-left.svg" alt="Esquerda" class="tv-btn-icon-img">
                    </button>
                    <button class="tv-directional-btn tv-directional-btn--ok" onclick="tvCommand(this, 'cursorCenter')" data-device-id="114" aria-label="OK">
                      <div class="tv-ok-circle"></div>
                    </button>
                    <button class="tv-directional-btn tv-directional-btn--right" onclick="tvCommand(this, 'cursorRight')" data-device-id="114" aria-label="Direita">
                      <img src="images/icons/arrow-right.svg" alt="Direita" class="tv-btn-icon-img">
                    </button>
                  </div>
                            
                  <!-- Linha 3: DOWN -->
                  <button class="tv-directional-btn tv-directional-btn--down" onclick="tvCommand(this, 'cursorDown')" data-device-id="114" aria-label="Baixo">
                    <img src="images/icons/arrow-down.svg" alt="Baixo" class="tv-btn-icon-img">
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- COLUNA 3 -->
        <div class="tv-controls-col tv-col-3">
          <!-- BLOCO 6: NÃšMEROS -->
          <div class="tv-control-section">
            <header class="tv-section-header">
              <h3 class="tv-section-title">NÃºmeros</h3>
              <div class="tv-section-line"></div>
            </header>
            <div class="tv-control-group">
              <div class="tv-numpad">
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num1')" data-device-id="114" aria-label="1">1</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num2')" data-device-id="114" aria-label="2">2</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num3')" data-device-id="114" aria-label="3">3</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num4')" data-device-id="114" aria-label="4">4</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num5')" data-device-id="114" aria-label="5">5</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num6')" data-device-id="114" aria-label="6">6</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num7')" data-device-id="114" aria-label="7">7</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num8')" data-device-id="114" aria-label="8">8</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num9')" data-device-id="114" aria-label="9">9</button>
                <button class="tv-numpad-btn tv-numpad-btn--icon" onclick="tvCommand(this, 'returnButton')" data-device-id="114" aria-label="Voltar">
                  <img src="images/icons/back-button.svg" alt="Back">
                </button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num0')" data-device-id="114" aria-label="0">0</button>
                <button class="tv-numpad-btn tv-numpad-btn--icon" onclick="tvCommand(this, 'mouse')" aria-label="Mouse">
                  <img src="images/icons/icon-mouse.svg" alt="Mouse">
                </button>
              </div>
            </div>
          </div>

          <!-- BLOCO 7: GLOBONEWS -->
          <div class="tv-control-section tv-logo-section">
            <button
              class="tv-btn tv-logo-button"
              onclick="tvCommand(this, 'globonews')"
              data-device-id="114"
              aria-label="GloboNews"
              type="button"
            >
              <img
                src="images/icons/GloboNews.svg"
                alt="GloboNews"
                class="tv-globonews-logo"
              />
            </button>
          </div>
        </div>

      </div>

    </div>

        `,

        "ambiente2-conforto": () => `

<div class="top-bar-custom"></div>

<div class="page active page-container ambiente2-page ambiente2-conforto-page">

    <div class="page-header">
        <button class="back-btn" onclick="spaNavigate('ambiente2')">
            <img src="images/icons/back-button.svg" alt="Voltar">
        </button>
    </div>

    <div class="ac-page-wrapper">
        <main class="ac-container" data-component="ac-control" data-ac-living="true">
            
            <!-- Display de Temperatura -->
            <section class="ac-temperature-section">
        <div class="ac-temperature-fade-content">
          <div class="ac-temperature-display">
            <div class="ac-temp-wrapper">
              <!-- SVG para o arco de progresso -->
              <svg class="ac-temp-arc" viewBox="0 0 200 120" preserveAspectRatio="xMidYMid meet">
                <!-- Arco de fundo -->
                <path class="ac-temp-arc-bg" d="M 20,100 A 80,80 0 0,1 180,100" fill="none" stroke-width="8"/>
                <!-- Arco de progresso -->
                <path class="ac-temp-arc-progress" d="M 20,100 A 80,80 0 0,1 180,100" fill="none" stroke-width="8" data-role="progress-ring"/>
              </svg>
              <!-- Display do valor em lista -->
              <div class="ac-temp-display">
                <div class="ac-temp-list">
                  <div class="ac-temp-prev" data-role="temp-prev">21</div>
                  <div class="ac-temp-current" data-role="temp-current">22</div>
                  <div class="ac-temp-next" data-role="temp-next">23</div>
                </div>
              </div>
              <!-- Knob arrastÃ¡vel -->
              <div class="ac-temp-knob-wrapper" data-role="knob">
                <div class="ac-temp-knob">
                  <div class="ac-temp-knob-dot"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
            </section>

            <!-- Wrapper para os controles (SeleÃ§Ã£o, Aletas, Comandos) -->
            <div class="ac-controls-wrapper">
                <!-- Controles de SeleÃ§Ã£o -->
                <section class="ac-modes" role="group" aria-label="SeleÃ§Ã£o de ar-condicionado">
                    <h2 class="ac-section-title">SeleÃ§Ã£o</h2>
                    <div class="ac-modes-grid ac-modes-grid--triple">
                        <button type="button" class="ac-mode-btn ac-mode-btn--selection" data-mode-button data-mode="living1" aria-pressed="false" aria-label="AC I">
                            <span class="ac-mode-btn__label">I</span>
                        </button>
                        <button type="button" class="ac-mode-btn ac-mode-btn--selection" data-mode-button data-mode="living2" aria-pressed="false" aria-label="AC II">
                            <span class="ac-mode-btn__label">II</span>
                        </button>
                        <button type="button" class="ac-mode-btn ac-mode-btn--selection" data-mode-button data-mode="livingBoth" aria-pressed="false" aria-label="Ambos ACs">
                            <span class="ac-mode-btn__label">Ambos</span>
                        </button>
                    </div>
                </section>

                <!-- Controles de Aletas -->
                <section class="ac-aleta-section" role="group" aria-label="Controle das aletas">
                    <h2 class="ac-section-title">Aletas</h2>
                    <div class="ac-aleta-grid ac-aleta-grid--dual">
              <button type="button" class="ac-aleta-btn" data-aleta-button data-aleta="moving" aria-pressed="true" aria-label="Aletas em movimento">
                <img src="images/icons/icon-ac-aleta-moving.svg" alt="">
              </button>
              <button type="button" class="ac-aleta-btn" data-aleta-button data-aleta="parada" aria-pressed="false" aria-label="Aletas paradas">
                <img src="images/icons/icon-ac-aleta-parada.svg" alt="">
              </button>
                    </div>
                </section>

                <!-- Comandos -->
                <section class="ac-commands-section">
                    <h3 class="ac-section-title">Comandos</h3>
                    <div class="ac-commands-grid">
                        <button type="button" class="ac-command-btn ac-command-btn-large ac-command-btn--disabled" data-role="power" aria-pressed="false" aria-label="Ligar/Desligar ar-condicionado" disabled>
                            <img src="images/icons/icon-ac-power.svg" alt="">
                        </button>
                    </div>
                </section>
            </div>

            <span class="sr-only" role="status" aria-live="polite" data-role="temperature-live">Temperatura ajustada para 22 graus.</span>
        </main>
    </div>

</div>

        `,

        "ambiente3-conforto": () => `

<div class="top-bar-custom"></div>

<div class="page active page-container ambiente3-page ambiente3-conforto-page">

    <div class="page-header">
        <button class="back-btn" onclick="spaNavigate('ambiente3')">
            <img src="images/icons/back-button.svg" alt="Voltar">
        </button>
    </div>

    <div class="ac-page-wrapper">
        <main class="ac-container" data-component="ac-control">
            
            <!-- Display de Temperatura -->
            <section class="ac-temperature-section">
        <h2 class="ac-section-title">Temperatura</h2>
        <div class="ac-temperature-fade-content">
          <div class="ac-temperature-display">
            <div class="ac-temp-wrapper">
              <!-- SVG para o arco de progresso -->
              <svg class="ac-temp-arc" viewBox="0 0 200 120" preserveAspectRatio="xMidYMid meet">
                <!-- Arco de fundo -->
                <path class="ac-temp-arc-bg" d="M 20,100 A 80,80 0 0,1 180,100" fill="none" stroke-width="8"/>
                <!-- Arco de progresso -->
                <path class="ac-temp-arc-progress" d="M 20,100 A 80,80 0 0,1 180,100" fill="none" stroke-width="8" data-role="progress-ring"/>
              </svg>
              <!-- Display do valor em lista -->
              <div class="ac-temp-display">
                <div class="ac-temp-list">
                  <div class="ac-temp-prev" data-role="temp-prev">21</div>
                  <div class="ac-temp-current" data-role="temp-current">22</div>
                  <div class="ac-temp-next" data-role="temp-next">23</div>
                </div>
              </div>
              <!-- Knob arrastÃ¡vel -->
              <div class="ac-temp-knob-wrapper" data-role="knob">
                <div class="ac-temp-knob">
                  <div class="ac-temp-knob-dot"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
            </section>

            <!-- Wrapper para os controles (SeleÃ§Ã£o, Aletas, Comandos) -->
            <div class="ac-controls-wrapper">
                <!-- Controles de SeleÃ§Ã£o -->
                <section class="ac-modes" role="group" aria-label="SeleÃ§Ã£o de ar-condicionado">
                    <h2 class="ac-section-title">SeleÃ§Ã£o</h2>
                    <div class="ac-modes-grid ac-modes-grid--single">
                        <button type="button" class="ac-mode-btn ac-mode-btn--selection" data-mode-button data-mode="varanda" aria-pressed="true" aria-label="Varanda">
                            <span class="ac-mode-btn__label">Varanda</span>
                        </button>
                    </div>
                </section>

                <!-- Controles de Aletas -->
                <section class="ac-aleta-section" role="group" aria-label="Controle das aletas">
                    <h2 class="ac-section-title">Aletas</h2>
                    <div class="ac-aleta-grid">
              <button type="button" class="ac-aleta-btn" data-aleta-button data-aleta="moving" aria-pressed="true" aria-label="Aletas em movimento">
                <img src="images/icons/icon-ac-aleta-moving.svg" alt="">
              </button>
              <button type="button" class="ac-aleta-btn" data-aleta-button data-aleta="windfree" aria-pressed="false" aria-label="WindFree">
                <img src="images/icons/icon-windfree.svg" alt="">
              </button>
              <button type="button" class="ac-aleta-btn" data-aleta-button data-aleta="parada" aria-pressed="false" aria-label="Aletas paradas">
                <img src="images/icons/icon-ac-aleta-parada.svg" alt="">
              </button>
                    </div>
                </section>

                <!-- Comandos -->
                <section class="ac-commands-section">
                    <h3 class="ac-section-title">Comandos</h3>
                    <div class="ac-commands-grid">
                        <button type="button" class="ac-command-btn ac-command-btn-large" data-role="power" aria-pressed="true" aria-label="Ligar/Desligar ar-condicionado">
                            <img src="images/icons/icon-ac-power.svg" alt="">
                        </button>
                    </div>
                </section>
            </div>

            <span class="sr-only" role="status" aria-live="polite" data-role="temperature-live">Temperatura ajustada para 22 graus.</span>
        </main>
    </div>

</div>

        `,

        "ambiente4-conforto": () => `

<div class="top-bar-custom"></div>

<div class="page active page-container ambiente4-page ambiente4-conforto-page">

    <div class="page-header">
        <button class="back-btn" onclick="spaNavigate('ambiente4')">
            <img src="images/icons/back-button.svg" alt="Voltar">
        </button>
    </div>

    <div class="ac-page-wrapper">
        <main class="ac-container" data-component="ac-control">
            
            <!-- Display de Temperatura -->
            <section class="ac-temperature-section">
        <h2 class="ac-section-title">Temperatura</h2>
        <div class="ac-temperature-fade-content">
          <div class="ac-temperature-display">
            <div class="ac-temp-wrapper">
              <!-- SVG para o arco de progresso -->
              <svg class="ac-temp-arc" viewBox="0 0 200 120" preserveAspectRatio="xMidYMid meet">
                <!-- Arco de fundo -->
                <path class="ac-temp-arc-bg" d="M 20,100 A 80,80 0 0,1 180,100" fill="none" stroke-width="8"/>
                <!-- Arco de progresso -->
                <path class="ac-temp-arc-progress" d="M 20,100 A 80,80 0 0,1 180,100" fill="none" stroke-width="8" data-role="progress-ring"/>
              </svg>
              <!-- Display do valor em lista -->
              <div class="ac-temp-display">
                <div class="ac-temp-list">
                  <div class="ac-temp-prev" data-role="temp-prev">21</div>
                  <div class="ac-temp-current" data-role="temp-current">22</div>
                  <div class="ac-temp-next" data-role="temp-next">23</div>
                </div>
              </div>
              <!-- Knob arrastÃ¡vel -->
              <div class="ac-temp-knob-wrapper" data-role="knob">
                <div class="ac-temp-knob">
                  <div class="ac-temp-knob-dot"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
            </section>

            <!-- Wrapper para os controles (Modo, Aletas, Comandos) -->
            <div class="ac-controls-wrapper">
                <!-- Controles de Modo -->
                <section class="ac-modes" role="group" aria-label="Modos de operaÃ§Ã£o">
                    <h2 class="ac-section-title">Modo</h2>
                    <div class="ac-modes-grid">
                        <button type="button" class="ac-mode-btn" data-mode-button data-mode="cool" aria-pressed="true" aria-label="Modo resfriar">
                            <img src="images/icons/icon-ac-cool.svg" alt="">
                        </button>
                        <button type="button" class="ac-mode-btn" data-mode-button data-mode="heat" aria-pressed="false" aria-label="Modo aquecer">
                            <img src="images/icons/icon-ac-heat.svg" alt="">
                        </button>
                    </div>
                </section>

                <!-- Controles de Aletas -->
                <section class="ac-aleta-section" role="group" aria-label="Controle das aletas">
                    <h2 class="ac-section-title">Aletas</h2>
                    <div class="ac-aleta-grid">
              <button type="button" class="ac-aleta-btn" data-aleta-button data-aleta="moving" aria-pressed="true" aria-label="Aletas em movimento">
                <img src="images/icons/icon-ac-aleta-moving.svg" alt="">
              </button>
              <button type="button" class="ac-aleta-btn" data-aleta-button data-aleta="windfree" aria-pressed="false" aria-label="WindFree">
                <img src="images/icons/icon-windfree.svg" alt="">
              </button>
              <button type="button" class="ac-aleta-btn" data-aleta-button data-aleta="parada" aria-pressed="false" aria-label="Aletas paradas">
                <img src="images/icons/icon-ac-aleta-parada.svg" alt="">
              </button>
                    </div>
                </section>

                <!-- Comandos -->
                <section class="ac-commands-section">
                    <h3 class="ac-section-title">Comandos</h3>
                    <div class="ac-commands-grid">
                        <button type="button" class="ac-command-btn ac-command-btn-large" data-role="power" aria-pressed="true" aria-label="Ligar/Desligar ar-condicionado">
                            <img src="images/icons/icon-ac-power.svg" alt="">
                        </button>
                    </div>
                </section>
            </div>

            <span class="sr-only" role="status" aria-live="polite" data-role="temperature-live">Temperatura ajustada para 22 graus.</span>
        </main>
    </div>

</div>

        `,

        "ambiente5-conforto": () => `

<div class="top-bar-custom"></div>

<div class="page active page-container ambiente5-page ambiente5-conforto-page">

    <div class="page-header">
        <button class="back-btn" onclick="spaNavigate('ambiente5')">
            <img src="images/icons/back-button.svg" alt="Voltar">
        </button>
    </div>

    <div class="ac-page-wrapper">
        <main class="ac-container" data-component="ac-control">
            
            <!-- Display de Temperatura -->
            <section class="ac-temperature-section">
        <h2 class="ac-section-title">Temperatura</h2>
        <div class="ac-temperature-fade-content">
          <div class="ac-temperature-display">
            <div class="ac-temp-wrapper">
              <!-- SVG para o arco de progresso -->
              <svg class="ac-temp-arc" viewBox="0 0 200 120" preserveAspectRatio="xMidYMid meet">
                <!-- Arco de fundo -->
                <path class="ac-temp-arc-bg" d="M 20,100 A 80,80 0 0,1 180,100" fill="none" stroke-width="8"/>
                <!-- Arco de progresso -->
                <path class="ac-temp-arc-progress" d="M 20,100 A 80,80 0 0,1 180,100" fill="none" stroke-width="8" data-role="progress-ring"/>
              </svg>
              <!-- Display do valor em lista -->
              <div class="ac-temp-display">
                <div class="ac-temp-list">
                  <div class="ac-temp-prev" data-role="temp-prev">21</div>
                  <div class="ac-temp-current" data-role="temp-current">22</div>
                  <div class="ac-temp-next" data-role="temp-next">23</div>
                </div>
              </div>
              <!-- Knob arrastÃ¡vel -->
              <div class="ac-temp-knob-wrapper" data-role="knob">
                <div class="ac-temp-knob">
                  <div class="ac-temp-knob-dot"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
            </section>

            <!-- Wrapper para os controles (Modo, Aletas, Comandos) -->
            <div class="ac-controls-wrapper">
                <!-- Controles de Modo -->
                <section class="ac-modes" role="group" aria-label="Modos de operaÃ§Ã£o">
                    <h2 class="ac-section-title">Modo</h2>
                    <div class="ac-modes-grid">
                        <button type="button" class="ac-mode-btn" data-mode-button data-mode="cool" aria-pressed="true" aria-label="Modo resfriar">
                            <img src="images/icons/icon-ac-cool.svg" alt="">
                        </button>
                        <button type="button" class="ac-mode-btn" data-mode-button data-mode="heat" aria-pressed="false" aria-label="Modo aquecer">
                            <img src="images/icons/icon-ac-heat.svg" alt="">
                        </button>
                    </div>
                </section>

                <!-- Controles de Aletas -->
                <section class="ac-aleta-section" role="group" aria-label="Controle das aletas">
                    <h2 class="ac-section-title">Aletas</h2>
                    <div class="ac-aleta-grid">
              <button type="button" class="ac-aleta-btn" data-aleta-button data-aleta="moving" aria-pressed="true" aria-label="Aletas em movimento">
                <img src="images/icons/icon-ac-aleta-moving.svg" alt="">
              </button>
              <button type="button" class="ac-aleta-btn" data-aleta-button data-aleta="windfree" aria-pressed="false" aria-label="WindFree">
                <img src="images/icons/icon-windfree.svg" alt="">
              </button>
              <button type="button" class="ac-aleta-btn" data-aleta-button data-aleta="parada" aria-pressed="false" aria-label="Aletas paradas">
                <img src="images/icons/icon-ac-aleta-parada.svg" alt="">
              </button>
                    </div>
                </section>

                <!-- Comandos -->
                <section class="ac-commands-section">
                    <h3 class="ac-section-title">Comandos</h3>
                    <div class="ac-commands-grid">
                        <button type="button" class="ac-command-btn ac-command-btn-large" data-role="power" aria-pressed="true" aria-label="Ligar/Desligar ar-condicionado">
                            <img src="images/icons/icon-ac-power.svg" alt="">
                        </button>
                    </div>
                </section>
            </div>

            <span class="sr-only" role="status" aria-live="polite" data-role="temperature-live">Temperatura ajustada para 22 graus.</span>
        </main>
    </div>

</div>

        `,

        "ambiente6-conforto": () => `

<div class="top-bar-custom"></div>

<div class="page active page-container ambiente6-page ambiente6-conforto-page">

    <div class="page-header">
        <button class="back-btn" onclick="spaNavigate('ambiente6')">
            <img src="images/icons/back-button.svg" alt="Voltar">
        </button>
    </div>

    <div class="ac-page-wrapper">
        <main class="ac-container" data-component="ac-control">
            
            <!-- Display de Temperatura -->
            <section class="ac-temperature-section">
        <h2 class="ac-section-title">Temperatura</h2>
        <div class="ac-temperature-fade-content">
          <div class="ac-temperature-display">
            <div class="ac-temp-wrapper">
              <!-- SVG para o arco de progresso -->
              <svg class="ac-temp-arc" viewBox="0 0 200 120" preserveAspectRatio="xMidYMid meet">
                <!-- Arco de fundo -->
                <path class="ac-temp-arc-bg" d="M 20,100 A 80,80 0 0,1 180,100" fill="none" stroke-width="8"/>
                <!-- Arco de progresso -->
                <path class="ac-temp-arc-progress" d="M 20,100 A 80,80 0 0,1 180,100" fill="none" stroke-width="8" data-role="progress-ring"/>
              </svg>
              <!-- Display do valor em lista -->
              <div class="ac-temp-display">
                <div class="ac-temp-list">
                  <div class="ac-temp-prev" data-role="temp-prev">21</div>
                  <div class="ac-temp-current" data-role="temp-current">22</div>
                  <div class="ac-temp-next" data-role="temp-next">23</div>
                </div>
              </div>
              <!-- Knob arrastÃ¡vel -->
              <div class="ac-temp-knob-wrapper" data-role="knob">
                <div class="ac-temp-knob">
                  <div class="ac-temp-knob-dot"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
            </section>

            <!-- Wrapper para os controles (Modo, Aletas, Comandos) -->
            <div class="ac-controls-wrapper">
                <!-- Controles de Modo -->
                <section class="ac-modes" role="group" aria-label="Modos de operaÃ§Ã£o">
                    <h2 class="ac-section-title">Modo</h2>
                    <div class="ac-modes-grid">
                        <button type="button" class="ac-mode-btn" data-mode-button data-mode="cool" aria-pressed="true" aria-label="Modo resfriar">
                            <img src="images/icons/icon-ac-cool.svg" alt="">
                        </button>
                        <button type="button" class="ac-mode-btn" data-mode-button data-mode="heat" aria-pressed="false" aria-label="Modo aquecer">
                            <img src="images/icons/icon-ac-heat.svg" alt="">
                        </button>
                    </div>
                </section>

                <!-- Controles de Aletas -->
                <section class="ac-aleta-section" role="group" aria-label="Controle das aletas">
                    <h2 class="ac-section-title">Aletas</h2>
                    <div class="ac-aleta-grid">
              <button type="button" class="ac-aleta-btn" data-aleta-button data-aleta="moving" aria-pressed="true" aria-label="Aletas em movimento">
                <img src="images/icons/icon-ac-aleta-moving.svg" alt="">
              </button>
              <button type="button" class="ac-aleta-btn" data-aleta-button data-aleta="windfree" aria-pressed="false" aria-label="WindFree">
                <img src="images/icons/icon-windfree.svg" alt="">
              </button>
              <button type="button" class="ac-aleta-btn" data-aleta-button data-aleta="parada" aria-pressed="false" aria-label="Aletas paradas">
                <img src="images/icons/icon-ac-aleta-parada.svg" alt="">
              </button>
                    </div>
                </section>

                <!-- Comandos -->
                <section class="ac-commands-section">
                    <h3 class="ac-section-title">Comandos</h3>
                    <div class="ac-commands-grid">
                        <button type="button" class="ac-command-btn ac-command-btn-large" data-role="power" aria-pressed="true" aria-label="Ligar/Desligar ar-condicionado">
                            <img src="images/icons/icon-ac-power.svg" alt="">
                        </button>
                    </div>
                </section>
            </div>

            <span class="sr-only" role="status" aria-live="polite" data-role="temperature-live">Temperatura ajustada para 22 graus.</span>
        </main>
    </div>

</div>

        `,

        "ambiente1-conforto": () => `

<div class="top-bar-custom"></div>

<div class="page active page-container ambiente1-page ambiente1-conforto-page">

    <div class="page-header">
        <button class="back-btn" onclick="spaNavigate('ambiente1')">
            <img src="images/icons/back-button.svg" alt="Voltar">
        </button>
    </div>

    <div class="ac-page-wrapper">
        <main class="ac-container" data-component="ac-control">
            
            <!-- Display de Temperatura -->
            <section class="ac-temperature-section">
        <div class="ac-temperature-fade-content">
          <div class="ac-temperature-display">
            <div class="ac-temp-wrapper">
              <!-- SVG para o arco de progresso -->
              <svg class="ac-temp-arc" viewBox="0 0 200 120" preserveAspectRatio="xMidYMid meet">
                <!-- Arco de fundo -->
                <path class="ac-temp-arc-bg" d="M 20,100 A 80,80 0 0,1 180,100" fill="none" stroke-width="8"/>
                <!-- Arco de progresso -->
                <path class="ac-temp-arc-progress" d="M 20,100 A 80,80 0 0,1 180,100" fill="none" stroke-width="8" data-role="progress-ring"/>
              </svg>
              <!-- Display do valor em lista -->
              <div class="ac-temp-display">
                <div class="ac-temp-list">
                  <div class="ac-temp-prev" data-role="temp-prev">21</div>
                  <div class="ac-temp-current" data-role="temp-current">22</div>
                  <div class="ac-temp-next" data-role="temp-next">23</div>
                </div>
              </div>
              <!-- Knob arrastÃ¡vel -->
              <div class="ac-temp-knob-wrapper" data-role="knob">
                <div class="ac-temp-knob">
                  <div class="ac-temp-knob-dot"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
            </section>

            <!-- Wrapper para os controles (SeleÃ§Ã£o, Aletas, Comandos) -->
            <div class="ac-controls-wrapper">
                <!-- Controles de SeleÃ§Ã£o -->
                <section class="ac-modes" role="group" aria-label="SeleÃ§Ã£o de ar-condicionado">
                    <h2 class="ac-section-title">SeleÃ§Ã£o</h2>
                    <div class="ac-modes-grid ac-modes-grid--single">
                        <button type="button" class="ac-mode-btn ac-mode-btn--selection" data-mode-button data-mode="varanda" aria-pressed="true" aria-label="Varanda">
                            <span class="ac-mode-btn__label">Varanda</span>
                        </button>
                    </div>
                </section>

                <!-- Controles de Aletas -->
                <section class="ac-aleta-section" role="group" aria-label="Controle das aletas">
                    <h2 class="ac-section-title">Aletas</h2>
                    <div class="ac-aleta-grid">
              <button type="button" class="ac-aleta-btn" data-aleta-button data-aleta="moving" aria-pressed="true" aria-label="Aletas em movimento">
                <img src="images/icons/icon-ac-aleta-moving.svg" alt="">
              </button>
              <button type="button" class="ac-aleta-btn" data-aleta-button data-aleta="windfree" aria-pressed="false" aria-label="WindFree">
                <img src="images/icons/icon-windfree.svg" alt="">
              </button>
              <button type="button" class="ac-aleta-btn" data-aleta-button data-aleta="parada" aria-pressed="false" aria-label="Aletas paradas">
                <img src="images/icons/icon-ac-aleta-parada.svg" alt="">
              </button>
                    </div>
                </section>

                <!-- Comandos -->
                <section class="ac-commands-section">
                    <h3 class="ac-section-title">Comandos</h3>
                    <div class="ac-commands-grid">
                        <button type="button" class="ac-command-btn ac-command-btn-large" data-role="power" aria-pressed="true" aria-label="Ligar/Desligar ar-condicionado">
                            <img src="images/icons/icon-ac-power.svg" alt="">
                        </button>
                    </div>
                </section>
            </div>

            <span class="sr-only" role="status" aria-live="polite" data-role="temperature-live">Temperatura ajustada para 22 graus.</span>
        </main>
    </div>

</div>


        `,

        "ambiente3-piscina-luzes": () => `

<div class="top-bar-custom"></div>

<div class="page active page-container ambiente3-page ambiente3-piscina-luzes-page">

    <div class="page-header">
        <button class="back-btn" onclick="spaNavigate('ambiente3-piscina')">
            <img src="images/icons/back-button.svg" alt="Voltar">
        </button>
        <h1 class="page-title">IluminaÃ§Ã£o</h1>
    </div>

    <div class="ambiente3-piscina-luzes-wrapper ambiente-grid">
        <!-- Luz Piscina -->
        <div class="control-card" data-state="off" data-device-id="270" onclick="toggleRoomControl(this)">
            <img class="control-icon" src="images/icons/icon-small-light-off.svg" alt="Luz Piscina">
            <div class="control-label">Luz Piscina</div>
        </div>
    </div>

</div>

        `,

        "ambiente3-piscina": () => `

<div class="top-bar-custom"></div>

<div class="page active page-container ambiente3-page ambiente3-piscina-page">

    <div class="page-header">
        <button class="back-btn" onclick="spaNavigate('ambiente3')">
            <img src="images/icons/back-button.svg" alt="Voltar">
        </button>
        <h1 class="page-title">Piscina</h1>
    </div>

    <div class="ambiente3-piscina-wrapper">
        <div class="piscina-control-grid">
            <!-- Cascata -->
            <article class="curtain-tile curtain-tile--transparent piscina-switch-tile" data-device-id="152" data-environment="Piscina">
                <header class="curtain-tile__header curtain-tile__header--minimal">
                    <h3 class="curtain-tile__title">Cascata</h3>
                    <div class="curtain-tile__line"></div>
                </header>
                <div class="curtain-tile__actions curtain-tile__actions--dual">
                    <button class="curtain-tile__btn curtain-tile__btn--text" data-device-id="152" onclick="togglePoolControl(this, 'on')" aria-label="Ligar Cascata">
                        Ligar
                    </button>
                    <button class="curtain-tile__btn curtain-tile__btn--text" data-device-id="152" onclick="togglePoolControl(this, 'off')" aria-label="Desligar Cascata">
                        Desligar
                    </button>
                </div>
            </article>

            <!-- Hidromassagem -->
            <article class="curtain-tile curtain-tile--transparent piscina-switch-tile" data-device-id="153" data-environment="Piscina">
                <header class="curtain-tile__header curtain-tile__header--minimal">
                    <h3 class="curtain-tile__title">Hidromassagem</h3>
                    <div class="curtain-tile__line"></div>
                </header>
                <div class="curtain-tile__actions curtain-tile__actions--dual">
                    <button class="curtain-tile__btn curtain-tile__btn--text" data-device-id="153" onclick="togglePoolControl(this, 'on')" aria-label="Ligar Hidromassagem">
                        Ligar
                    </button>
                    <button class="curtain-tile__btn curtain-tile__btn--text" data-device-id="153" onclick="togglePoolControl(this, 'off')" aria-label="Desligar Hidromassagem">
                        Desligar
                    </button>
                </div>
            </article>

            <!-- Deck -->
            <article class="curtain-tile curtain-tile--transparent piscina-switch-tile" data-device-id="161" data-environment="Piscina">
                <header class="curtain-tile__header curtain-tile__header--minimal">
                    <h3 class="curtain-tile__title">Deck</h3>
                    <div class="curtain-tile__line"></div>
                </header>
                <div class="curtain-tile__actions curtain-tile__actions--dual">
                    <button class="curtain-tile__btn curtain-tile__btn--text" data-device-id="161" onclick="togglePoolControl(this, 'close')" aria-label="Cobrir Deck">
                        Cobrir
                    </button>
                    <button class="curtain-tile__btn curtain-tile__btn--text" data-device-id="161" onclick="togglePoolControl(this, 'open')" aria-label="Descobrir Deck">
                        Descobrir
                    </button>
                </div>
            </article>
        </div>

        <div class="piscina-secondary-row">
            <!-- Toldo -->
            <article class="curtain-tile curtain-tile--transparent piscina-toldo-tile" data-device-id="162" data-environment="Piscina">
                <header class="curtain-tile__header curtain-tile__header--minimal">
                    <h3 class="curtain-tile__title">Toldo</h3>
                    <div class="curtain-tile__line"></div>
                </header>
                <div class="curtain-tile__actions">
                    <button class="curtain-tile__btn" data-device-id="162" onclick="togglePoolControl(this, 'open')" aria-label="Abrir Toldo">
                      <img src="images/icons/open-curtain.svg" alt="Abrir">
                    </button>
                    <button class="curtain-tile__btn curtain-tile__btn--stop" data-device-id="162" onclick="togglePoolControl(this, 'stop')" aria-label="Parar Toldo">
                        <img src="images/icons/icon-stop.svg" alt="Parar">
                    </button>
                    <button class="curtain-tile__btn" data-device-id="162" onclick="togglePoolControl(this, 'close')" aria-label="Fechar Toldo">
                      <img src="images/icons/close-curtain.svg" alt="Fechar">
                    </button>
                </div>
            </article>

            <!-- Luzes -->
            <div class="control-card piscina-light-toggle" data-state="off" data-device-id="270" onclick="toggleRoomControl(this)">
                <img class="control-icon" src="images/icons/icon-small-light-off.svg" alt="Luz da Piscina">
                <div class="control-label">Luz da Piscina</div>
            </div>
        </div>
    </div>

</div>

        `,

        "ambiente3-telao": () => `

    <div class="top-bar-custom"></div>

    <div class="page active page-container ambiente1-page ambiente1-htv-page">

      <div class="page-header">
        <button class="back-btn" onclick="spaNavigate('ambiente3')">
          <img src="images/icons/back-button.svg" alt="Voltar">
        </button>
        <h1 class="page-title">Controle TV</h1>
      </div>

      <div class="tv-control-wrapper">
        
        <!-- COLUNA 1 -->
        <div class="tv-controls-col tv-col-1">
          <!-- BLOCO 1: ON/OFF -->
          <div class="tv-control-section">
            <header class="tv-section-header">
              <h3 class="tv-section-title">On / Off</h3>
              <div class="tv-section-line"></div>
            </header>
            <div class="tv-control-group tv-power-group">
              <button class="tv-btn tv-btn--power-on" onclick="telaoMacroOn()" aria-label="Ligar">
                ON
              </button>
              <button class="tv-btn tv-btn--power-off" onclick="htvMacroOff()" aria-label="Desligar">
                OFF
              </button>
            </div>
          </div>

          <!-- BLOCO 4 E 5: VOLUME E CANAIS (lado a lado) -->
          <div class="tv-volume-canais-wrapper">
                
            <!-- BLOCO 4: VOLUME -->
            <div class="tv-control-section">
              <header class="tv-section-header">
                <h3 class="tv-section-title">Volume</h3>
                <span class="tv-volume-value" id="tv-volume-display">50</span>
                <div class="tv-section-line"></div>
              </header>
              <div class="tv-control-group tv-volume-slider-container">
                <input 
                  type="range" 
                  class="tv-volume-slider" 
                  id="tv-volume-slider"
                  min="0" 
                  max="100" 
                  value="50"
                  data-device-id="15"
                  aria-label="Controle de Volume"
                >
              </div>
            </div>

            <!-- BLOCO 5: CANAIS -->
            <div class="tv-control-section">
              <header class="tv-section-header">
                <h3 class="tv-section-title">Canais</h3>
                <div class="tv-section-line"></div>
              </header>
              <div class="tv-control-group tv-volume-channels-inline">
                        
                <!-- Coluna Canais -->
                <div class="tv-channels-column">
                  <div class="tv-channels-buttons">
            <button class="tv-btn-square" onclick="tvCommand(this, 'channelDown')" data-device-id="114" aria-label="Canal +">
                      <img src="images/icons/arrow-up.svg" alt="Canal +" class="tv-btn-icon-img">
                    </button>
            <button class="tv-btn-square" onclick="tvCommand(this, 'channelUp')" data-device-id="114" aria-label="Canal -">
                      <img src="images/icons/arrow-down.svg" alt="Canal -" class="tv-btn-icon-img">
                    </button>
                  </div>
                </div>

              </div>
            </div>

          </div>
        </div>

        <!-- COLUNA 2 -->
        <div class="tv-controls-col tv-col-2">
          <!-- BLOCO 3: COMANDOS (Back, Menu, Home, Mute) -->
          <div class="tv-control-section">
            <header class="tv-section-header">
              <h3 class="tv-section-title">Comandos</h3>
              <div class="tv-section-line"></div>
            </header>
            <div class="tv-control-group tv-commands-grid">
              <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'returnButton')" data-device-id="114" aria-label="Voltar">
                <img src="images/icons/back-button.svg" alt="Voltar">
              </button>
              <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'menu')" data-device-id="114" aria-label="Menu">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <line x1="3" y1="12" x2="21" y2="12"></line>
                  <line x1="3" y1="6" x2="21" y2="6"></line>
                  <line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
              </button>
              <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'volMute')" data-device-id="114" aria-label="Mudo">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                  <line x1="23" y1="9" x2="17" y2="15"></line>
                  <line x1="17" y1="9" x2="23" y2="15"></line>
                </svg>
              </button>
              <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'home')" data-device-id="114" aria-label="Home">
                <img src="images/icons/icon-home.svg" alt="Home">
              </button>
            </div>
          </div>

          <!-- BLOCO 2: CONTROLE (D-PAD) -->
          <div class="tv-control-section">
            <header class="tv-section-header">
              <h3 class="tv-section-title">Controle</h3>
              <div class="tv-section-line"></div>
            </header>
            <div class="tv-control-group tv-directional-row">
              <div class="tv-directional-section">
                <div class="tv-directional-pad">
                  <!-- Linha 1: UP -->
                  <button class="tv-directional-btn tv-directional-btn--up" onclick="tvCommand(this, 'cursorUp')" data-device-id="114" aria-label="Cima">
                    <img src="images/icons/arrow-up.svg" alt="Cima" class="tv-btn-icon-img">
                  </button>
                            
                  <!-- Linha 2: LEFT, OK, RIGHT -->
                  <div class="tv-directional-row-line">
                    <button class="tv-directional-btn tv-directional-btn--left" onclick="tvCommand(this, 'cursorLeft')" data-device-id="114" aria-label="Esquerda">
                      <img src="images/icons/arrow-left.svg" alt="Esquerda" class="tv-btn-icon-img">
                    </button>
                    <button class="tv-directional-btn tv-directional-btn--ok" onclick="tvCommand(this, 'cursorCenter')" data-device-id="114" aria-label="OK">
                      <div class="tv-ok-circle"></div>
                    </button>
                    <button class="tv-directional-btn tv-directional-btn--right" onclick="tvCommand(this, 'cursorRight')" data-device-id="114" aria-label="Direita">
                      <img src="images/icons/arrow-right.svg" alt="Direita" class="tv-btn-icon-img">
                    </button>
                  </div>
                            
                  <!-- Linha 3: DOWN -->
                  <button class="tv-directional-btn tv-directional-btn--down" onclick="tvCommand(this, 'cursorDown')" data-device-id="114" aria-label="Baixo">
                    <img src="images/icons/arrow-down.svg" alt="Baixo" class="tv-btn-icon-img">
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- COLUNA 3 -->
        <div class="tv-controls-col tv-col-3">
          <!-- BLOCO 6: NÃšMEROS -->
          <div class="tv-control-section">
            <header class="tv-section-header">
              <h3 class="tv-section-title">NÃºmeros</h3>
              <div class="tv-section-line"></div>
            </header>
            <div class="tv-control-group">
              <div class="tv-numpad">
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num1')" data-device-id="114" aria-label="1">1</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num2')" data-device-id="114" aria-label="2">2</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num3')" data-device-id="114" aria-label="3">3</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num4')" data-device-id="114" aria-label="4">4</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num5')" data-device-id="114" aria-label="5">5</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num6')" data-device-id="114" aria-label="6">6</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num7')" data-device-id="114" aria-label="7">7</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num8')" data-device-id="114" aria-label="8">8</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num9')" data-device-id="114" aria-label="9">9</button>
                <button class="tv-numpad-btn tv-numpad-btn--icon" onclick="tvCommand(this, 'returnButton')" data-device-id="114" aria-label="Voltar">
                  <img src="images/icons/back-button.svg" alt="Back">
                </button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num0')" data-device-id="114" aria-label="0">0</button>
                <button class="tv-numpad-btn tv-numpad-btn--icon" onclick="fireTVMacro()" aria-label="Fire TV">
                  <img src="images/icons/icon-firetv.svg" alt="Fire TV">
                </button>
              </div>
            </div>
          </div>

          <!-- BLOCO 7: LOGO ELETRIZE -->
          <div class="tv-control-section tv-logo-section">
            <img src="images/icons/eletrize.svg" alt="Eletrize" class="tv-eletrize-logo">
          </div>
        </div>

      </div>

    </div>

        `,

        "ambiente7-conforto": () => `

<div class="top-bar-custom"></div>

<div class="page active page-container ambiente7-page ambiente7-conforto-page">

    <div class="page-header">
        <button class="back-btn" onclick="spaNavigate('ambiente7')">
            <img src="images/icons/back-button.svg" alt="Voltar">
        </button>
    </div>

    <div class="ac-page-wrapper">
        <main class="ac-container" data-component="ac-control">
            
            <!-- Display de Temperatura -->
            <section class="ac-temperature-section">
        <div class="ac-temperature-fade-content">
          <div class="ac-temperature-display">
            <div class="ac-temp-wrapper">
              <!-- SVG para o arco de progresso -->
              <svg class="ac-temp-arc" viewBox="0 0 200 120" preserveAspectRatio="xMidYMid meet">
                <!-- Arco de fundo -->
                <path class="ac-temp-arc-bg" d="M 20,100 A 80,80 0 0,1 180,100" fill="none" stroke-width="8"/>
                <!-- Arco de progresso -->
                <path class="ac-temp-arc-progress" d="M 20,100 A 80,80 0 0,1 180,100" fill="none" stroke-width="8" data-role="progress-ring"/>
              </svg>
              <!-- Display do valor em lista -->
              <div class="ac-temp-display">
                <div class="ac-temp-list">
                  <div class="ac-temp-prev" data-role="temp-prev">21</div>
                  <div class="ac-temp-current" data-role="temp-current">22</div>
                  <div class="ac-temp-next" data-role="temp-next">23</div>
                </div>
              </div>
              <!-- Knob arrastÃ¡vel -->
              <div class="ac-temp-knob-wrapper" data-role="knob">
                <div class="ac-temp-knob">
                  <div class="ac-temp-knob-dot"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
            </section>

            <!-- Wrapper para os controles (SeleÃ§Ã£o, Aletas, Comandos) -->
            <div class="ac-controls-wrapper">
                <!-- Controles de SeleÃ§Ã£o -->
                <section class="ac-modes" role="group" aria-label="SeleÃ§Ã£o de ar-condicionado">
                    <h2 class="ac-section-title">SeleÃ§Ã£o</h2>
                    <div class="ac-modes-grid ac-modes-grid--single">
                        <button type="button" class="ac-mode-btn ac-mode-btn--selection" data-mode-button data-mode="suite1" aria-pressed="true" aria-label="SuÃ­te I">
                            <span class="ac-mode-btn__label">SuÃ­te I</span>
                        </button>
                    </div>
                </section>

                <!-- Controles de Aletas -->
                <section class="ac-aleta-section" role="group" aria-label="Controle das aletas">
                    <h2 class="ac-section-title">Aletas</h2>
                    <div class="ac-aleta-grid ac-aleta-grid--dual">
              <button type="button" class="ac-aleta-btn" data-aleta-button data-aleta="moving" aria-pressed="true" aria-label="Aletas em movimento">
                <img src="images/icons/icon-ac-aleta-moving.svg" alt="">
              </button>
              <button type="button" class="ac-aleta-btn" data-aleta-button data-aleta="parada" aria-pressed="false" aria-label="Aletas paradas">
                <img src="images/icons/icon-ac-aleta-parada.svg" alt="">
              </button>
                    </div>
                </section>

                <!-- Comandos -->
                <section class="ac-commands-section">
                    <h3 class="ac-section-title">Comandos</h3>
                    <div class="ac-commands-grid">
                        <button type="button" class="ac-command-btn ac-command-btn-large" data-role="power" aria-pressed="true" aria-label="Ligar/Desligar ar-condicionado">
                            <img src="images/icons/icon-ac-power.svg" alt="">
                        </button>
                    </div>
                </section>
            </div>

            <span class="sr-only" role="status" aria-live="polite" data-role="temperature-live">Temperatura ajustada para 22 graus.</span>
        </main>
    </div>

</div>

        `,

        "ambiente7-tv": () => `

<div class="top-bar-custom"></div>

<div class="page active page-container ambiente7-page ambiente7-tv-page">

    <div class="page-header">
        <button class="back-btn" onclick="spaNavigate('ambiente7')">
            <img src="images/icons/back-button.svg" alt="Voltar">
        </button>
        <h1 class="page-title">Controle TV</h1>
    </div>

    <div class="tv-control-wrapper">
        
        <!-- COLUNA 1 -->
        <div class="tv-controls-col tv-col-1">
            <!-- BLOCO 1: ON/OFF -->
            <div class="tv-control-section">
                <header class="tv-section-header">
                    <h3 class="tv-section-title">On / Off</h3>
                    <div class="tv-section-line"></div>
                </header>
                <div class="tv-control-group tv-power-group">
          <button class="tv-btn tv-btn--power-on" onclick="suite1TvOn()" aria-label="Ligar">
            ON
          </button>
          <button class="tv-btn tv-btn--power-off" onclick="suite1TvOff()" aria-label="Desligar">
            OFF
          </button>
                </div>
            </div>

            <!-- BLOCO 4 E 5: VOLUME E CANAIS (lado a lado) -->
            <div class="tv-volume-canais-wrapper">
                
                <!-- BLOCO 4: VOLUME -->
                <div class="tv-control-section">
                    <header class="tv-section-header">
                        <h3 class="tv-section-title">Volume</h3>
                        <span class="tv-volume-value" id="tv-volume-display">50</span>
                        <div class="tv-section-line"></div>
                    </header>
                    <div class="tv-control-group tv-volume-slider-container">
                        <input 
                            type="range" 
                            class="tv-volume-slider" 
                            id="tv-volume-slider"
                            min="0" 
                            max="100" 
                            value="50"
                            data-device-id="184"
                            aria-label="Controle de Volume"
                        >
                    </div>
                </div>

                <!-- BLOCO 5: CANAIS -->
                <div class="tv-control-section">
                    <header class="tv-section-header">
                        <h3 class="tv-section-title">Canais</h3>
                        <div class="tv-section-line"></div>
                    </header>
                    <div class="tv-control-group tv-volume-channels-inline">
                        
                        <!-- Coluna Canais -->
                        <div class="tv-channels-column">
                            <div class="tv-channels-buttons">
                <button class="tv-btn-square" onclick="tvCommand(this, 'channelDown')" data-device-id="184" aria-label="Canal +">
                                    <img src="images/icons/arrow-up.svg" alt="Canal +" class="tv-btn-icon-img">
                                </button>
                <button class="tv-btn-square" onclick="tvCommand(this, 'channelUp')" data-device-id="184" aria-label="Canal -">
                                    <img src="images/icons/arrow-down.svg" alt="Canal -" class="tv-btn-icon-img">
                                </button>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
        </div>

        <!-- COLUNA 2 -->
        <div class="tv-controls-col tv-col-2">
            <!-- BLOCO 3: COMANDOS (Back, Menu, Home, Mute) -->
            <div class="tv-control-section">
                <header class="tv-section-header">
                    <h3 class="tv-section-title">Comandos</h3>
                    <div class="tv-section-line"></div>
                </header>
                <div class="tv-control-group tv-commands-grid">
                    <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'returnButton')" data-device-id="184" aria-label="Voltar">
                        <img src="images/icons/back-button.svg" alt="Voltar">
                    </button>
                    <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'hdmi2')" data-device-id="184" aria-label="Menu">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="3" y1="12" x2="21" y2="12"></line>
                            <line x1="3" y1="6" x2="21" y2="6"></line>
                            <line x1="3" y1="18" x2="21" y2="18"></line>
                        </svg>
                    </button>
                    <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'mute')" data-device-id="184" aria-label="Mudo">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                            <line x1="23" y1="9" x2="17" y2="15"></line>
                            <line x1="17" y1="9" x2="23" y2="15"></line>
                        </svg>
                    </button>
                    <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'home')" data-device-id="184" aria-label="Home">
                        <img src="images/icons/icon-home.svg" alt="Home">
                    </button>
                </div>
            </div>

            <!-- BLOCO 2: CONTROLE (D-PAD) -->
            <div class="tv-control-section">
                <header class="tv-section-header">
                    <h3 class="tv-section-title">Controle</h3>
                    <div class="tv-section-line"></div>
                </header>
                <div class="tv-control-group tv-directional-row">
                    <div class="tv-directional-section">
                        <div class="tv-directional-pad">
                            <!-- Linha 1: UP -->
                            <button class="tv-directional-btn tv-directional-btn--up" onclick="tvCommand(this, 'cursorUp')" data-device-id="184" aria-label="Cima">
                                <img src="images/icons/arrow-up.svg" alt="Cima" class="tv-btn-icon-img">
                            </button>
                            
                            <!-- Linha 2: LEFT, OK, RIGHT -->
                            <div class="tv-directional-row-line">
                                <button class="tv-directional-btn tv-directional-btn--left" onclick="tvCommand(this, 'cursorLeft')" data-device-id="184" aria-label="Esquerda">
                                    <img src="images/icons/arrow-left.svg" alt="Esquerda" class="tv-btn-icon-img">
                                </button>
                                <button class="tv-directional-btn tv-directional-btn--ok" onclick="tvCommand(this, 'cursorCenter')" data-device-id="184" aria-label="OK">
                                    <div class="tv-ok-circle"></div>
                                </button>
                                <button class="tv-directional-btn tv-directional-btn--right" onclick="tvCommand(this, 'cursorRight')" data-device-id="184" aria-label="Direita">
                                    <img src="images/icons/arrow-right.svg" alt="Direita" class="tv-btn-icon-img">
                                </button>
                            </div>
                            
                            <!-- Linha 3: DOWN -->
                            <button class="tv-directional-btn tv-directional-btn--down" onclick="tvCommand(this, 'cursorDown')" data-device-id="184" aria-label="Baixo">
                                <img src="images/icons/arrow-down.svg" alt="Baixo" class="tv-btn-icon-img">
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- COLUNA 3 -->
        <div class="tv-controls-col tv-col-3">
            <!-- BLOCO 6: NÃšMEROS -->
            <div class="tv-control-section">
                <header class="tv-section-header">
                    <h3 class="tv-section-title">NÃºmeros</h3>
                    <div class="tv-section-line"></div>
                </header>
                <div class="tv-control-group">
                    <div class="tv-numpad">
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num1')" data-device-id="184" aria-label="1">1</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num2')" data-device-id="184" aria-label="2">2</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num3')" data-device-id="184" aria-label="3">3</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num4')" data-device-id="184" aria-label="4">4</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num5')" data-device-id="184" aria-label="5">5</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num6')" data-device-id="184" aria-label="6">6</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num7')" data-device-id="184" aria-label="7">7</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num8')" data-device-id="184" aria-label="8">8</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num9')" data-device-id="184" aria-label="9">9</button>
                        <button class="tv-numpad-btn tv-numpad-btn--icon" onclick="tvCommand(this, 'returnButton')" data-device-id="184" aria-label="Voltar">
                            <img src="images/icons/back-button.svg" alt="Back">
                        </button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num0')" data-device-id="184" aria-label="0">0</button>
                        <button class="tv-numpad-btn tv-numpad-btn--icon" onclick="fireTVMacro()" aria-label="Fire TV">
                            <img src="images/icons/icon-firetv.svg" alt="Fire TV">
                        </button>
                    </div>
                </div>
            </div>

            <!-- BLOCO 7: LOGO ELETRIZE -->
            <div class="tv-control-section tv-logo-section">
                <img src="images/icons/eletrize.svg" alt="Eletrize" class="tv-eletrize-logo">
            </div>
        </div>

    </div>

</div>

        `,

        "ambiente7-htv": () => `

    <div class="top-bar-custom"></div>

    <div class="page active page-container ambiente7-page ambiente7-htv-page">

      <div class="page-header">
        <button class="back-btn" onclick="spaNavigate('ambiente7')">
          <img src="images/icons/back-button.svg" alt="Voltar">
        </button>
        <h1 class="page-title">Controle TV</h1>
      </div>

      <div class="tv-control-wrapper">
        
        <!-- COLUNA 1 -->
        <div class="tv-controls-col tv-col-1">
          <!-- BLOCO 1: ON/OFF -->
          <div class="tv-control-section">
            <header class="tv-section-header">
              <h3 class="tv-section-title">On / Off</h3>
              <div class="tv-section-line"></div>
            </header>
            <div class="tv-control-group tv-power-group">
              <button class="tv-btn tv-btn--power-on" onclick="suite1HtvOn()" aria-label="Ligar">
                ON
              </button>
              <button class="tv-btn tv-btn--power-off" onclick="suite1HtvOff()" aria-label="Desligar">
                OFF
              </button>
            </div>
          </div>

          <!-- BLOCO 4 E 5: VOLUME E CANAIS (lado a lado) -->
          <div class="tv-volume-canais-wrapper">
                
            <!-- BLOCO 4: VOLUME -->
            <div class="tv-control-section">
              <header class="tv-section-header">
                <h3 class="tv-section-title">Volume</h3>
                <span class="tv-volume-value" id="tv-volume-display">50</span>
                <div class="tv-section-line"></div>
              </header>
              <div class="tv-control-group tv-volume-slider-container">
                <input 
                  type="range" 
                  class="tv-volume-slider" 
                  id="tv-volume-slider"
                  min="0" 
                  max="100" 
                  value="50"
                  data-device-id="190"
                  aria-label="Controle de Volume"
                >
              </div>
            </div>

            <!-- BLOCO 5: CANAIS -->
            <div class="tv-control-section">
              <header class="tv-section-header">
                <h3 class="tv-section-title">Canais</h3>
                <div class="tv-section-line"></div>
              </header>
              <div class="tv-control-group tv-volume-channels-inline">
                        
                <!-- Coluna Canais -->
                <div class="tv-channels-column">
                  <div class="tv-channels-buttons">
            <button class="tv-btn-square" onclick="tvCommand(this, 'channelDown')" data-device-id="190" aria-label="Canal +">
                      <img src="images/icons/arrow-up.svg" alt="Canal +" class="tv-btn-icon-img">
                    </button>
            <button class="tv-btn-square" onclick="tvCommand(this, 'channelUp')" data-device-id="190" aria-label="Canal -">
                      <img src="images/icons/arrow-down.svg" alt="Canal -" class="tv-btn-icon-img">
                    </button>
                  </div>
                </div>

              </div>
            </div>

          </div>
        </div>

        <!-- COLUNA 2 -->
        <div class="tv-controls-col tv-col-2">
          <!-- BLOCO 3: COMANDOS (Back, Menu, Home, Mute) -->
          <div class="tv-control-section">
            <header class="tv-section-header">
              <h3 class="tv-section-title">Comandos</h3>
              <div class="tv-section-line"></div>
            </header>
            <div class="tv-control-group tv-commands-grid">
              <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'returnButton')" data-device-id="190" aria-label="Voltar">
                <img src="images/icons/back-button.svg" alt="Voltar">
              </button>
              <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'menu')" data-device-id="190" aria-label="Menu">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <line x1="3" y1="12" x2="21" y2="12"></line>
                  <line x1="3" y1="6" x2="21" y2="6"></line>
                  <line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
              </button>
              <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'volMute')" data-device-id="190" aria-label="Mudo">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                  <line x1="23" y1="9" x2="17" y2="15"></line>
                  <line x1="17" y1="9" x2="23" y2="15"></line>
                </svg>
              </button>
              <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'home')" data-device-id="190" aria-label="Home">
                <img src="images/icons/icon-home.svg" alt="Home">
              </button>
            </div>
          </div>

          <!-- BLOCO 2: CONTROLE (D-PAD) -->
          <div class="tv-control-section">
            <header class="tv-section-header">
              <h3 class="tv-section-title">Controle</h3>
              <div class="tv-section-line"></div>
            </header>
            <div class="tv-control-group tv-directional-row">
              <div class="tv-directional-section">
                <div class="tv-directional-pad">
                  <!-- Linha 1: UP -->
                  <button class="tv-directional-btn tv-directional-btn--up" onclick="tvCommand(this, 'cursorUp')" data-device-id="190" aria-label="Cima">
                    <img src="images/icons/arrow-up.svg" alt="Cima" class="tv-btn-icon-img">
                  </button>
                            
                  <!-- Linha 2: LEFT, OK, RIGHT -->
                  <div class="tv-directional-row-line">
                    <button class="tv-directional-btn tv-directional-btn--left" onclick="tvCommand(this, 'cursorLeft')" data-device-id="190" aria-label="Esquerda">
                      <img src="images/icons/arrow-left.svg" alt="Esquerda" class="tv-btn-icon-img">
                    </button>
                    <button class="tv-directional-btn tv-directional-btn--ok" onclick="tvCommand(this, 'cursorCenter')" data-device-id="190" aria-label="OK">
                      <div class="tv-ok-circle"></div>
                    </button>
                    <button class="tv-directional-btn tv-directional-btn--right" onclick="tvCommand(this, 'cursorRight')" data-device-id="190" aria-label="Direita">
                      <img src="images/icons/arrow-right.svg" alt="Direita" class="tv-btn-icon-img">
                    </button>
                  </div>
                            
                  <!-- Linha 3: DOWN -->
                  <button class="tv-directional-btn tv-directional-btn--down" onclick="tvCommand(this, 'cursorDown')" data-device-id="190" aria-label="Baixo">
                    <img src="images/icons/arrow-down.svg" alt="Baixo" class="tv-btn-icon-img">
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- COLUNA 3 -->
        <div class="tv-controls-col tv-col-3">
          <!-- BLOCO 6: NÃšMEROS -->
          <div class="tv-control-section">
            <header class="tv-section-header">
              <h3 class="tv-section-title">NÃºmeros</h3>
              <div class="tv-section-line"></div>
            </header>
            <div class="tv-control-group">
              <div class="tv-numpad">
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num1')" data-device-id="190" aria-label="1">1</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num2')" data-device-id="190" aria-label="2">2</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num3')" data-device-id="190" aria-label="3">3</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num4')" data-device-id="190" aria-label="4">4</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num5')" data-device-id="190" aria-label="5">5</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num6')" data-device-id="190" aria-label="6">6</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num7')" data-device-id="190" aria-label="7">7</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num8')" data-device-id="190" aria-label="8">8</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num9')" data-device-id="190" aria-label="9">9</button>
                <button class="tv-numpad-btn tv-numpad-btn--icon" onclick="tvCommand(this, 'returnButton')" data-device-id="190" aria-label="Voltar">
                  <img src="images/icons/back-button.svg" alt="Back">
                </button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num0')" data-device-id="190" aria-label="0">0</button>
                <button class="tv-numpad-btn tv-numpad-btn--icon" onclick="tvCommand(this, 'mouse')" aria-label="Mouse">
                  <img src="images/icons/icon-mouse.svg" alt="Mouse">
                </button>
              </div>
            </div>
          </div>

          <!-- BLOCO 7: LOGO ELETRIZE -->
          <div class="tv-control-section tv-logo-section">
            <img src="images/icons/eletrize.svg" alt="Eletrize" class="tv-eletrize-logo">
          </div>
        </div>

      </div>

    </div>

        `,

        "ambiente8-conforto": () => `

<div class="top-bar-custom"></div>

<div class="page active page-container ambiente8-page ambiente8-conforto-page">

    <div class="page-header">
        <button class="back-btn" onclick="spaNavigate('ambiente8')">
            <img src="images/icons/back-button.svg" alt="Voltar">
        </button>
    </div>

    <div class="ac-page-wrapper">
        <main class="ac-container" data-component="ac-control">
            
            <!-- Display de Temperatura -->
            <section class="ac-temperature-section">
        <div class="ac-temperature-fade-content">
          <div class="ac-temperature-display">
            <div class="ac-temp-wrapper">
              <!-- SVG para o arco de progresso -->
              <svg class="ac-temp-arc" viewBox="0 0 200 120" preserveAspectRatio="xMidYMid meet">
                <!-- Arco de fundo -->
                <path class="ac-temp-arc-bg" d="M 20,100 A 80,80 0 0,1 180,100" fill="none" stroke-width="8"/>
                <!-- Arco de progresso -->
                <path class="ac-temp-arc-progress" d="M 20,100 A 80,80 0 0,1 180,100" fill="none" stroke-width="8" data-role="progress-ring"/>
              </svg>
              <!-- Display do valor em lista -->
              <div class="ac-temp-display">
                <div class="ac-temp-list">
                  <div class="ac-temp-prev" data-role="temp-prev">21</div>
                  <div class="ac-temp-current" data-role="temp-current">22</div>
                  <div class="ac-temp-next" data-role="temp-next">23</div>
                </div>
              </div>
              <!-- Knob arrastÃ¡vel -->
              <div class="ac-temp-knob-wrapper" data-role="knob">
                <div class="ac-temp-knob">
                  <div class="ac-temp-knob-dot"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
            </section>

            <!-- Wrapper para os controles (SeleÃ§Ã£o, Aletas, Comandos) -->
            <div class="ac-controls-wrapper">
                <!-- Controles de SeleÃ§Ã£o -->
                <section class="ac-modes" role="group" aria-label="SeleÃ§Ã£o de ar-condicionado">
                    <h2 class="ac-section-title">SeleÃ§Ã£o</h2>
                    <div class="ac-modes-grid ac-modes-grid--single">
                        <button type="button" class="ac-mode-btn ac-mode-btn--selection" data-mode-button data-mode="suite2" aria-pressed="true" aria-label="SuÃ­te II">
                            <span class="ac-mode-btn__label">SuÃ­te II</span>
                        </button>
                    </div>
                </section>

                <!-- Controles de Aletas -->
                <section class="ac-aleta-section" role="group" aria-label="Controle das aletas">
                    <h2 class="ac-section-title">Aletas</h2>
                    <div class="ac-aleta-grid ac-aleta-grid--dual">
              <button type="button" class="ac-aleta-btn" data-aleta-button data-aleta="moving" aria-pressed="true" aria-label="Aletas em movimento">
                <img src="images/icons/icon-ac-aleta-moving.svg" alt="">
              </button>
              <button type="button" class="ac-aleta-btn" data-aleta-button data-aleta="parada" aria-pressed="false" aria-label="Aletas paradas">
                <img src="images/icons/icon-ac-aleta-parada.svg" alt="">
              </button>
                    </div>
                </section>

                <!-- Comandos -->
                <section class="ac-commands-section">
                    <h3 class="ac-section-title">Comandos</h3>
                    <div class="ac-commands-grid">
                        <button type="button" class="ac-command-btn ac-command-btn-large" data-role="power" aria-pressed="true" aria-label="Ligar/Desligar ar-condicionado">
                            <img src="images/icons/icon-ac-power.svg" alt="">
                        </button>
                    </div>
                </section>
            </div>

            <span class="sr-only" role="status" aria-live="polite" data-role="temperature-live">Temperatura ajustada para 22 graus.</span>
        </main>
    </div>

</div>

        `,

        "ambiente8-tv": () => `

<div class="top-bar-custom"></div>

<div class="page active page-container ambiente8-page ambiente8-tv-page">

    <div class="page-header">
        <button class="back-btn" onclick="spaNavigate('ambiente8')">
            <img src="images/icons/back-button.svg" alt="Voltar">
        </button>
        <h1 class="page-title">Controle TV</h1>
    </div>

    <div class="tv-control-wrapper">
        
        <!-- COLUNA 1 -->
        <div class="tv-controls-col tv-col-1">
            <!-- BLOCO 1: ON/OFF -->
            <div class="tv-control-section">
                <header class="tv-section-header">
                    <h3 class="tv-section-title">On / Off</h3>
                    <div class="tv-section-line"></div>
                </header>
                <div class="tv-control-group tv-power-group">
          <button class="tv-btn tv-btn--power-on" onclick="suite2TvOn()" aria-label="Ligar">
            ON
          </button>
          <button class="tv-btn tv-btn--power-off" onclick="suite2TvOff()" aria-label="Desligar">
            OFF
          </button>
                </div>
            </div>

            <!-- BLOCO 4 E 5: VOLUME E CANAIS (lado a lado) -->
            <div class="tv-volume-canais-wrapper">
                
                <!-- BLOCO 4: VOLUME -->
                <div class="tv-control-section">
                    <header class="tv-section-header">
                        <h3 class="tv-section-title">Volume</h3>
                        <span class="tv-volume-value" id="tv-volume-display">50</span>
                        <div class="tv-section-line"></div>
                    </header>
                    <div class="tv-control-group tv-volume-slider-container">
                        <input 
                            type="range" 
                            class="tv-volume-slider" 
                            id="tv-volume-slider"
                            min="0" 
                            max="100" 
                            value="50"
                            data-device-id="185"
                            aria-label="Controle de Volume"
                        >
                    </div>
                </div>

                <!-- BLOCO 5: CANAIS -->
                <div class="tv-control-section">
                    <header class="tv-section-header">
                        <h3 class="tv-section-title">Canais</h3>
                        <div class="tv-section-line"></div>
                    </header>
                    <div class="tv-control-group tv-volume-channels-inline">
                        
                        <!-- Coluna Canais -->
                        <div class="tv-channels-column">
                            <div class="tv-channels-buttons">
                <button class="tv-btn-square" onclick="tvCommand(this, 'channelDown')" data-device-id="185" aria-label="Canal +">
                                    <img src="images/icons/arrow-up.svg" alt="Canal +" class="tv-btn-icon-img">
                                </button>
                <button class="tv-btn-square" onclick="tvCommand(this, 'channelUp')" data-device-id="185" aria-label="Canal -">
                                    <img src="images/icons/arrow-down.svg" alt="Canal -" class="tv-btn-icon-img">
                                </button>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
        </div>

        <!-- COLUNA 2 -->
        <div class="tv-controls-col tv-col-2">
            <!-- BLOCO 3: COMANDOS (Back, Menu, Home, Mute) -->
            <div class="tv-control-section">
                <header class="tv-section-header">
                    <h3 class="tv-section-title">Comandos</h3>
                    <div class="tv-section-line"></div>
                </header>
                <div class="tv-control-group tv-commands-grid">
                    <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'returnButton')" data-device-id="185" aria-label="Voltar">
                        <img src="images/icons/back-button.svg" alt="Voltar">
                    </button>
                    <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'hdmi2')" data-device-id="185" aria-label="Menu">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="3" y1="12" x2="21" y2="12"></line>
                            <line x1="3" y1="6" x2="21" y2="6"></line>
                            <line x1="3" y1="18" x2="21" y2="18"></line>
                        </svg>
                    </button>
                    <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'mute')" data-device-id="185" aria-label="Mudo">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                            <line x1="23" y1="9" x2="17" y2="15"></line>
                            <line x1="17" y1="9" x2="23" y2="15"></line>
                        </svg>
                    </button>
                    <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'home')" data-device-id="185" aria-label="Home">
                        <img src="images/icons/icon-home.svg" alt="Home">
                    </button>
                </div>
            </div>

            <!-- BLOCO 2: CONTROLE (D-PAD) -->
            <div class="tv-control-section">
                <header class="tv-section-header">
                    <h3 class="tv-section-title">Controle</h3>
                    <div class="tv-section-line"></div>
                </header>
                <div class="tv-control-group tv-directional-row">
                    <div class="tv-directional-section">
                        <div class="tv-directional-pad">
                            <!-- Linha 1: UP -->
                            <button class="tv-directional-btn tv-directional-btn--up" onclick="tvCommand(this, 'cursorUp')" data-device-id="185" aria-label="Cima">
                                <img src="images/icons/arrow-up.svg" alt="Cima" class="tv-btn-icon-img">
                            </button>
                            
                            <!-- Linha 2: LEFT, OK, RIGHT -->
                            <div class="tv-directional-row-line">
                                <button class="tv-directional-btn tv-directional-btn--left" onclick="tvCommand(this, 'cursorLeft')" data-device-id="185" aria-label="Esquerda">
                                    <img src="images/icons/arrow-left.svg" alt="Esquerda" class="tv-btn-icon-img">
                                </button>
                                <button class="tv-directional-btn tv-directional-btn--ok" onclick="tvCommand(this, 'cursorCenter')" data-device-id="185" aria-label="OK">
                                    <div class="tv-ok-circle"></div>
                                </button>
                                <button class="tv-directional-btn tv-directional-btn--right" onclick="tvCommand(this, 'cursorRight')" data-device-id="185" aria-label="Direita">
                                    <img src="images/icons/arrow-right.svg" alt="Direita" class="tv-btn-icon-img">
                                </button>
                            </div>
                            
                            <!-- Linha 3: DOWN -->
                            <button class="tv-directional-btn tv-directional-btn--down" onclick="tvCommand(this, 'cursorDown')" data-device-id="185" aria-label="Baixo">
                                <img src="images/icons/arrow-down.svg" alt="Baixo" class="tv-btn-icon-img">
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- COLUNA 3 -->
        <div class="tv-controls-col tv-col-3">
            <!-- BLOCO 6: NÃšMEROS -->
            <div class="tv-control-section">
                <header class="tv-section-header">
                    <h3 class="tv-section-title">NÃºmeros</h3>
                    <div class="tv-section-line"></div>
                </header>
                <div class="tv-control-group">
                    <div class="tv-numpad">
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num1')" data-device-id="185" aria-label="1">1</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num2')" data-device-id="185" aria-label="2">2</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num3')" data-device-id="185" aria-label="3">3</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num4')" data-device-id="185" aria-label="4">4</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num5')" data-device-id="185" aria-label="5">5</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num6')" data-device-id="185" aria-label="6">6</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num7')" data-device-id="185" aria-label="7">7</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num8')" data-device-id="185" aria-label="8">8</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num9')" data-device-id="185" aria-label="9">9</button>
                        <button class="tv-numpad-btn tv-numpad-btn--icon" onclick="tvCommand(this, 'returnButton')" data-device-id="185" aria-label="Voltar">
                            <img src="images/icons/back-button.svg" alt="Back">
                        </button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num0')" data-device-id="185" aria-label="0">0</button>
                        <button class="tv-numpad-btn tv-numpad-btn--icon" onclick="fireTVMacro()" aria-label="Fire TV">
                            <img src="images/icons/icon-firetv.svg" alt="Fire TV">
                        </button>
                    </div>
                </div>
            </div>

            <!-- BLOCO 7: LOGO ELETRIZE -->
            <div class="tv-control-section tv-logo-section">
                <img src="images/icons/eletrize.svg" alt="Eletrize" class="tv-eletrize-logo">
            </div>
        </div>

    </div>

</div>

        `,

        "ambiente8-htv": () => `

    <div class="top-bar-custom"></div>

    <div class="page active page-container ambiente8-page ambiente8-htv-page">

      <div class="page-header">
        <button class="back-btn" onclick="spaNavigate('ambiente8')">
          <img src="images/icons/back-button.svg" alt="Voltar">
        </button>
        <h1 class="page-title">Controle TV</h1>
      </div>

      <div class="tv-control-wrapper">
        
        <!-- COLUNA 1 -->
        <div class="tv-controls-col tv-col-1">
          <!-- BLOCO 1: ON/OFF -->
          <div class="tv-control-section">
            <header class="tv-section-header">
              <h3 class="tv-section-title">On / Off</h3>
              <div class="tv-section-line"></div>
            </header>
            <div class="tv-control-group tv-power-group">
              <button class="tv-btn tv-btn--power-on" onclick="suite2HtvOn()" aria-label="Ligar">
                ON
              </button>
              <button class="tv-btn tv-btn--power-off" onclick="suite2HtvOff()" aria-label="Desligar">
                OFF
              </button>
            </div>
          </div>

          <!-- BLOCO 4 E 5: VOLUME E CANAIS (lado a lado) -->
          <div class="tv-volume-canais-wrapper">
                
            <!-- BLOCO 4: VOLUME -->
            <div class="tv-control-section">
              <header class="tv-section-header">
                <h3 class="tv-section-title">Volume</h3>
                <span class="tv-volume-value" id="tv-volume-display">50</span>
                <div class="tv-section-line"></div>
              </header>
              <div class="tv-control-group tv-volume-slider-container">
                <input 
                  type="range" 
                  class="tv-volume-slider" 
                  id="tv-volume-slider"
                  min="0" 
                  max="100" 
                  value="50"
                  data-device-id="191"
                  aria-label="Controle de Volume"
                >
              </div>
            </div>

            <!-- BLOCO 5: CANAIS -->
            <div class="tv-control-section">
              <header class="tv-section-header">
                <h3 class="tv-section-title">Canais</h3>
                <div class="tv-section-line"></div>
              </header>
              <div class="tv-control-group tv-volume-channels-inline">
                        
                <!-- Coluna Canais -->
                <div class="tv-channels-column">
                  <div class="tv-channels-buttons">
            <button class="tv-btn-square" onclick="tvCommand(this, 'channelDown')" data-device-id="191" aria-label="Canal +">
                      <img src="images/icons/arrow-up.svg" alt="Canal +" class="tv-btn-icon-img">
                    </button>
            <button class="tv-btn-square" onclick="tvCommand(this, 'channelUp')" data-device-id="191" aria-label="Canal -">
                      <img src="images/icons/arrow-down.svg" alt="Canal -" class="tv-btn-icon-img">
                    </button>
                  </div>
                </div>

              </div>
            </div>

          </div>
        </div>

        <!-- COLUNA 2 -->
        <div class="tv-controls-col tv-col-2">
          <!-- BLOCO 3: COMANDOS (Back, Menu, Home, Mute) -->
          <div class="tv-control-section">
            <header class="tv-section-header">
              <h3 class="tv-section-title">Comandos</h3>
              <div class="tv-section-line"></div>
            </header>
            <div class="tv-control-group tv-commands-grid">
              <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'returnButton')" data-device-id="191" aria-label="Voltar">
                <img src="images/icons/back-button.svg" alt="Voltar">
              </button>
              <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'menu')" data-device-id="191" aria-label="Menu">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <line x1="3" y1="12" x2="21" y2="12"></line>
                  <line x1="3" y1="6" x2="21" y2="6"></line>
                  <line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
              </button>
              <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'volMute')" data-device-id="191" aria-label="Mudo">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                  <line x1="23" y1="9" x2="17" y2="15"></line>
                  <line x1="17" y1="9" x2="23" y2="15"></line>
                </svg>
              </button>
              <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'home')" data-device-id="191" aria-label="Home">
                <img src="images/icons/icon-home.svg" alt="Home">
              </button>
            </div>
          </div>

          <!-- BLOCO 2: CONTROLE (D-PAD) -->
          <div class="tv-control-section">
            <header class="tv-section-header">
              <h3 class="tv-section-title">Controle</h3>
              <div class="tv-section-line"></div>
            </header>
            <div class="tv-control-group tv-directional-row">
              <div class="tv-directional-section">
                <div class="tv-directional-pad">
                  <!-- Linha 1: UP -->
                  <button class="tv-directional-btn tv-directional-btn--up" onclick="tvCommand(this, 'cursorUp')" data-device-id="191" aria-label="Cima">
                    <img src="images/icons/arrow-up.svg" alt="Cima" class="tv-btn-icon-img">
                  </button>
                            
                  <!-- Linha 2: LEFT, OK, RIGHT -->
                  <div class="tv-directional-row-line">
                    <button class="tv-directional-btn tv-directional-btn--left" onclick="tvCommand(this, 'cursorLeft')" data-device-id="191" aria-label="Esquerda">
                      <img src="images/icons/arrow-left.svg" alt="Esquerda" class="tv-btn-icon-img">
                    </button>
                    <button class="tv-directional-btn tv-directional-btn--ok" onclick="tvCommand(this, 'cursorCenter')" data-device-id="191" aria-label="OK">
                      <div class="tv-ok-circle"></div>
                    </button>
                    <button class="tv-directional-btn tv-directional-btn--right" onclick="tvCommand(this, 'cursorRight')" data-device-id="191" aria-label="Direita">
                      <img src="images/icons/arrow-right.svg" alt="Direita" class="tv-btn-icon-img">
                    </button>
                  </div>
                            
                  <!-- Linha 3: DOWN -->
                  <button class="tv-directional-btn tv-directional-btn--down" onclick="tvCommand(this, 'cursorDown')" data-device-id="191" aria-label="Baixo">
                    <img src="images/icons/arrow-down.svg" alt="Baixo" class="tv-btn-icon-img">
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- COLUNA 3 -->
        <div class="tv-controls-col tv-col-3">
          <!-- BLOCO 6: NÃšMEROS -->
          <div class="tv-control-section">
            <header class="tv-section-header">
              <h3 class="tv-section-title">NÃºmeros</h3>
              <div class="tv-section-line"></div>
            </header>
            <div class="tv-control-group">
              <div class="tv-numpad">
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num1')" data-device-id="191" aria-label="1">1</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num2')" data-device-id="191" aria-label="2">2</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num3')" data-device-id="191" aria-label="3">3</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num4')" data-device-id="191" aria-label="4">4</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num5')" data-device-id="191" aria-label="5">5</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num6')" data-device-id="191" aria-label="6">6</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num7')" data-device-id="191" aria-label="7">7</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num8')" data-device-id="191" aria-label="8">8</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num9')" data-device-id="191" aria-label="9">9</button>
                <button class="tv-numpad-btn tv-numpad-btn--icon" onclick="tvCommand(this, 'returnButton')" data-device-id="191" aria-label="Voltar">
                  <img src="images/icons/back-button.svg" alt="Back">
                </button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num0')" data-device-id="191" aria-label="0">0</button>
                <button class="tv-numpad-btn tv-numpad-btn--icon" onclick="tvCommand(this, 'mouse')" aria-label="Mouse">
                  <img src="images/icons/icon-mouse.svg" alt="Mouse">
                </button>
              </div>
            </div>
          </div>

          <!-- BLOCO 7: LOGO ELETRIZE -->
          <div class="tv-control-section tv-logo-section">
            <img src="images/icons/eletrize.svg" alt="Eletrize" class="tv-eletrize-logo">
          </div>
        </div>

      </div>

    </div>

        `,

        "ambiente9-conforto": () => `

<div class="top-bar-custom"></div>

<div class="page active page-container ambiente9-page ambiente9-conforto-page">

    <div class="page-header">
        <button class="back-btn" onclick="spaNavigate('ambiente9')">
            <img src="images/icons/back-button.svg" alt="Voltar">
        </button>
    </div>

    <div class="ac-page-wrapper">
        <main class="ac-container" data-component="ac-control">
            
            <!-- Display de Temperatura -->
            <section class="ac-temperature-section">
        <div class="ac-temperature-fade-content">
          <div class="ac-temperature-display">
            <div class="ac-temp-wrapper">
              <!-- SVG para o arco de progresso -->
              <svg class="ac-temp-arc" viewBox="0 0 200 120" preserveAspectRatio="xMidYMid meet">
                <!-- Arco de fundo -->
                <path class="ac-temp-arc-bg" d="M 20,100 A 80,80 0 0,1 180,100" fill="none" stroke-width="8"/>
                <!-- Arco de progresso -->
                <path class="ac-temp-arc-progress" d="M 20,100 A 80,80 0 0,1 180,100" fill="none" stroke-width="8" data-role="progress-ring"/>
              </svg>
              <!-- Display do valor em lista -->
              <div class="ac-temp-display">
                <div class="ac-temp-list">
                  <div class="ac-temp-prev" data-role="temp-prev">21</div>
                  <div class="ac-temp-current" data-role="temp-current">22</div>
                  <div class="ac-temp-next" data-role="temp-next">23</div>
                </div>
              </div>
              <!-- Knob arrastÃ¡vel -->
              <div class="ac-temp-knob-wrapper" data-role="knob">
                <div class="ac-temp-knob">
                  <div class="ac-temp-knob-dot"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
            </section>

            <!-- Wrapper para os controles (SeleÃ§Ã£o, Aletas, Comandos) -->
            <div class="ac-controls-wrapper">
                <!-- Controles de SeleÃ§Ã£o -->
                <section class="ac-modes" role="group" aria-label="SeleÃ§Ã£o de ar-condicionado">
                    <h2 class="ac-section-title">SeleÃ§Ã£o</h2>
                    <div class="ac-modes-grid ac-modes-grid--single">
                        <button type="button" class="ac-mode-btn ac-mode-btn--selection" data-mode-button data-mode="suiteMaster" aria-pressed="true" aria-label="SuÃ­te Master">
                            <span class="ac-mode-btn__label">SuÃ­te Master</span>
                        </button>
                    </div>
                </section>

                <!-- Controles de Aletas -->
                <section class="ac-aleta-section" role="group" aria-label="Controle das aletas">
                    <h2 class="ac-section-title">Aletas</h2>
                    <div class="ac-aleta-grid">
              <button type="button" class="ac-aleta-btn" data-aleta-button data-aleta="moving" aria-pressed="true" aria-label="Aletas em movimento">
                <img src="images/icons/icon-ac-aleta-moving.svg" alt="">
              </button>
              <button type="button" class="ac-aleta-btn" data-aleta-button data-aleta="windfree" aria-pressed="false" aria-label="WindFree">
                <img src="images/icons/icon-windfree.svg" alt="">
              </button>
              <button type="button" class="ac-aleta-btn" data-aleta-button data-aleta="parada" aria-pressed="false" aria-label="Aletas paradas">
                <img src="images/icons/icon-ac-aleta-parada.svg" alt="">
              </button>
                    </div>
                </section>

                <!-- Comandos -->
                <section class="ac-commands-section">
                    <h3 class="ac-section-title">Comandos</h3>
                    <div class="ac-commands-grid">
                        <button type="button" class="ac-command-btn ac-command-btn-large" data-role="power" aria-pressed="true" aria-label="Ligar/Desligar ar-condicionado">
                            <img src="images/icons/icon-ac-power.svg" alt="">
                        </button>
                    </div>
                </section>
            </div>

            <span class="sr-only" role="status" aria-live="polite" data-role="temperature-live">Temperatura ajustada para 22 graus.</span>
        </main>
    </div>

</div>

        `,

        "ambiente9-tv": () => `

<div class="top-bar-custom"></div>

<div class="page active page-container ambiente9-page ambiente9-tv-page">

    <div class="page-header">
        <button class="back-btn" onclick="spaNavigate('ambiente9')">
            <img src="images/icons/back-button.svg" alt="Voltar">
        </button>
        <h1 class="page-title">Controle TV</h1>
    </div>

    <div class="tv-control-wrapper">
        
        <!-- COLUNA 1 -->
        <div class="tv-controls-col tv-col-1">
            <!-- BLOCO 1: ON/OFF -->
            <div class="tv-control-section">
                <header class="tv-section-header">
                    <h3 class="tv-section-title">On / Off</h3>
                    <div class="tv-section-line"></div>
                </header>
                <div class="tv-control-group tv-power-group">
          <button class="tv-btn tv-btn--power-on" onclick="suiteMasterTvOn()" aria-label="Ligar">
            ON
          </button>
          <button class="tv-btn tv-btn--power-off" onclick="suiteMasterTvOff()" aria-label="Desligar">
            OFF
          </button>
                </div>
            </div>

            <!-- BLOCO 4 E 5: VOLUME E CANAIS (lado a lado) -->
            <div class="tv-volume-canais-wrapper">
                
                <!-- BLOCO 4: VOLUME -->
                <div class="tv-control-section">
                    <header class="tv-section-header">
                        <h3 class="tv-section-title">Volume</h3>
                        <span class="tv-volume-value" id="tv-volume-display">50</span>
                        <div class="tv-section-line"></div>
                    </header>
                    <div class="tv-control-group tv-volume-slider-container">
                        <input 
                            type="range" 
                            class="tv-volume-slider" 
                            id="tv-volume-slider"
                            min="0" 
                            max="100" 
                            value="50"
                            data-device-id="183"
                            aria-label="Controle de Volume"
                        >
                    </div>
                </div>

                <!-- BLOCO 5: CANAIS -->
                <div class="tv-control-section">
                    <header class="tv-section-header">
                        <h3 class="tv-section-title">Canais</h3>
                        <div class="tv-section-line"></div>
                    </header>
                    <div class="tv-control-group tv-volume-channels-inline">
                        
                        <!-- Coluna Canais -->
                        <div class="tv-channels-column">
                            <div class="tv-channels-buttons">
                <button class="tv-btn-square" onclick="tvCommand(this, 'channelDown')" data-device-id="183" aria-label="Canal +">
                                    <img src="images/icons/arrow-up.svg" alt="Canal +" class="tv-btn-icon-img">
                                </button>
                <button class="tv-btn-square" onclick="tvCommand(this, 'channelUp')" data-device-id="183" aria-label="Canal -">
                                    <img src="images/icons/arrow-down.svg" alt="Canal -" class="tv-btn-icon-img">
                                </button>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
        </div>

        <!-- COLUNA 2 -->
        <div class="tv-controls-col tv-col-2">
            <!-- BLOCO 3: COMANDOS (Back, Menu, Home, Mute) -->
            <div class="tv-control-section">
                <header class="tv-section-header">
                    <h3 class="tv-section-title">Comandos</h3>
                    <div class="tv-section-line"></div>
                </header>
                <div class="tv-control-group tv-commands-grid">
                    <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'returnButton')" data-device-id="183" aria-label="Voltar">
                        <img src="images/icons/back-button.svg" alt="Voltar">
                    </button>
                    <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'hdmi2')" data-device-id="183" aria-label="Menu">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="3" y1="12" x2="21" y2="12"></line>
                            <line x1="3" y1="6" x2="21" y2="6"></line>
                            <line x1="3" y1="18" x2="21" y2="18"></line>
                        </svg>
                    </button>
                    <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'mute')" data-device-id="183" aria-label="Mudo">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                            <line x1="23" y1="9" x2="17" y2="15"></line>
                            <line x1="17" y1="9" x2="23" y2="15"></line>
                        </svg>
                    </button>
                    <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'home')" data-device-id="183" aria-label="Home">
                        <img src="images/icons/icon-home.svg" alt="Home">
                    </button>
                </div>
            </div>

            <!-- BLOCO 2: CONTROLE (D-PAD) -->
            <div class="tv-control-section">
                <header class="tv-section-header">
                    <h3 class="tv-section-title">Controle</h3>
                    <div class="tv-section-line"></div>
                </header>
                <div class="tv-control-group tv-directional-row">
                    <div class="tv-directional-section">
                        <div class="tv-directional-pad">
                            <!-- Linha 1: UP -->
                            <button class="tv-directional-btn tv-directional-btn--up" onclick="tvCommand(this, 'cursorUp')" data-device-id="183" aria-label="Cima">
                                <img src="images/icons/arrow-up.svg" alt="Cima" class="tv-btn-icon-img">
                            </button>
                            
                            <!-- Linha 2: LEFT, OK, RIGHT -->
                            <div class="tv-directional-row-line">
                                <button class="tv-directional-btn tv-directional-btn--left" onclick="tvCommand(this, 'cursorLeft')" data-device-id="183" aria-label="Esquerda">
                                    <img src="images/icons/arrow-left.svg" alt="Esquerda" class="tv-btn-icon-img">
                                </button>
                                <button class="tv-directional-btn tv-directional-btn--ok" onclick="tvCommand(this, 'cursorCenter')" data-device-id="183" aria-label="OK">
                                    <div class="tv-ok-circle"></div>
                                </button>
                                <button class="tv-directional-btn tv-directional-btn--right" onclick="tvCommand(this, 'cursorRight')" data-device-id="183" aria-label="Direita">
                                    <img src="images/icons/arrow-right.svg" alt="Direita" class="tv-btn-icon-img">
                                </button>
                            </div>
                            
                            <!-- Linha 3: DOWN -->
                            <button class="tv-directional-btn tv-directional-btn--down" onclick="tvCommand(this, 'cursorDown')" data-device-id="183" aria-label="Baixo">
                                <img src="images/icons/arrow-down.svg" alt="Baixo" class="tv-btn-icon-img">
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- COLUNA 3 -->
        <div class="tv-controls-col tv-col-3">
            <!-- BLOCO 6: NÃšMEROS -->
            <div class="tv-control-section">
                <header class="tv-section-header">
                    <h3 class="tv-section-title">NÃºmeros</h3>
                    <div class="tv-section-line"></div>
                </header>
                <div class="tv-control-group">
                    <div class="tv-numpad">
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num1')" data-device-id="183" aria-label="1">1</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num2')" data-device-id="183" aria-label="2">2</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num3')" data-device-id="183" aria-label="3">3</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num4')" data-device-id="183" aria-label="4">4</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num5')" data-device-id="183" aria-label="5">5</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num6')" data-device-id="183" aria-label="6">6</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num7')" data-device-id="183" aria-label="7">7</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num8')" data-device-id="183" aria-label="8">8</button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num9')" data-device-id="183" aria-label="9">9</button>
                        <button class="tv-numpad-btn tv-numpad-btn--icon" onclick="tvCommand(this, 'returnButton')" data-device-id="183" aria-label="Voltar">
                            <img src="images/icons/back-button.svg" alt="Back">
                        </button>
                        <button class="tv-numpad-btn" onclick="tvCommand(this, 'num0')" data-device-id="183" aria-label="0">0</button>
                        <button class="tv-numpad-btn tv-numpad-btn--icon" onclick="fireTVMacro()" aria-label="Fire TV">
                            <img src="images/icons/icon-firetv.svg" alt="Fire TV">
                        </button>
                    </div>
                </div>
            </div>

            <!-- BLOCO 7: LOGO ELETRIZE -->
            <div class="tv-control-section tv-logo-section">
                <img src="images/icons/eletrize.svg" alt="Eletrize" class="tv-eletrize-logo">
            </div>
        </div>

    </div>

</div>

        `,

        "ambiente9-htv": () => `

    <div class="top-bar-custom"></div>

    <div class="page active page-container ambiente9-page ambiente9-htv-page">

      <div class="page-header">
        <button class="back-btn" onclick="spaNavigate('ambiente9')">
          <img src="images/icons/back-button.svg" alt="Voltar">
        </button>
        <h1 class="page-title">Controle TV</h1>
      </div>

      <div class="tv-control-wrapper">
        
        <!-- COLUNA 1 -->
        <div class="tv-controls-col tv-col-1">
          <!-- BLOCO 1: ON/OFF -->
          <div class="tv-control-section">
            <header class="tv-section-header">
              <h3 class="tv-section-title">On / Off</h3>
              <div class="tv-section-line"></div>
            </header>
            <div class="tv-control-group tv-power-group">
              <button class="tv-btn tv-btn--power-on" onclick="suiteMasterHtvOn()" aria-label="Ligar">
                ON
              </button>
              <button class="tv-btn tv-btn--power-off" onclick="suiteMasterHtvOff()" aria-label="Desligar">
                OFF
              </button>
            </div>
          </div>

          <!-- BLOCO 4 E 5: VOLUME E CANAIS (lado a lado) -->
          <div class="tv-volume-canais-wrapper">
                
            <!-- BLOCO 4: VOLUME -->
            <div class="tv-control-section">
              <header class="tv-section-header">
                <h3 class="tv-section-title">Volume</h3>
                <span class="tv-volume-value" id="tv-volume-display">50</span>
                <div class="tv-section-line"></div>
              </header>
              <div class="tv-control-group tv-volume-slider-container">
                <input 
                  type="range" 
                  class="tv-volume-slider" 
                  id="tv-volume-slider"
                  min="0" 
                  max="100" 
                  value="50"
                  data-device-id="189"
                  aria-label="Controle de Volume"
                >
              </div>
            </div>

            <!-- BLOCO 5: CANAIS -->
            <div class="tv-control-section">
              <header class="tv-section-header">
                <h3 class="tv-section-title">Canais</h3>
                <div class="tv-section-line"></div>
              </header>
              <div class="tv-control-group tv-volume-channels-inline">
                        
                <!-- Coluna Canais -->
                <div class="tv-channels-column">
                  <div class="tv-channels-buttons">
            <button class="tv-btn-square" onclick="tvCommand(this, 'channelDown')" data-device-id="189" aria-label="Canal +">
                      <img src="images/icons/arrow-up.svg" alt="Canal +" class="tv-btn-icon-img">
                    </button>
            <button class="tv-btn-square" onclick="tvCommand(this, 'channelUp')" data-device-id="189" aria-label="Canal -">
                      <img src="images/icons/arrow-down.svg" alt="Canal -" class="tv-btn-icon-img">
                    </button>
                  </div>
                </div>

              </div>
            </div>

          </div>
        </div>

        <!-- COLUNA 2 -->
        <div class="tv-controls-col tv-col-2">
          <!-- BLOCO 3: COMANDOS (Back, Menu, Home, Mute) -->
          <div class="tv-control-section">
            <header class="tv-section-header">
              <h3 class="tv-section-title">Comandos</h3>
              <div class="tv-section-line"></div>
            </header>
            <div class="tv-control-group tv-commands-grid">
              <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'returnButton')" data-device-id="189" aria-label="Voltar">
                <img src="images/icons/back-button.svg" alt="Voltar">
              </button>
              <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'menu')" data-device-id="189" aria-label="Menu">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <line x1="3" y1="12" x2="21" y2="12"></line>
                  <line x1="3" y1="6" x2="21" y2="6"></line>
                  <line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
              </button>
              <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'volMute')" data-device-id="189" aria-label="Mudo">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                  <line x1="23" y1="9" x2="17" y2="15"></line>
                  <line x1="17" y1="9" x2="23" y2="15"></line>
                </svg>
              </button>
              <button class="tv-btn tv-btn--icon-only" onclick="tvCommand(this, 'home')" data-device-id="189" aria-label="Home">
                <img src="images/icons/icon-home.svg" alt="Home">
              </button>
            </div>
          </div>

          <!-- BLOCO 2: CONTROLE (D-PAD) -->
          <div class="tv-control-section">
            <header class="tv-section-header">
              <h3 class="tv-section-title">Controle</h3>
              <div class="tv-section-line"></div>
            </header>
            <div class="tv-control-group tv-directional-row">
              <div class="tv-directional-section">
                <div class="tv-directional-pad">
                  <!-- Linha 1: UP -->
                  <button class="tv-directional-btn tv-directional-btn--up" onclick="tvCommand(this, 'cursorUp')" data-device-id="189" aria-label="Cima">
                    <img src="images/icons/arrow-up.svg" alt="Cima" class="tv-btn-icon-img">
                  </button>
                            
                  <!-- Linha 2: LEFT, OK, RIGHT -->
                  <div class="tv-directional-row-line">
                    <button class="tv-directional-btn tv-directional-btn--left" onclick="tvCommand(this, 'cursorLeft')" data-device-id="189" aria-label="Esquerda">
                      <img src="images/icons/arrow-left.svg" alt="Esquerda" class="tv-btn-icon-img">
                    </button>
                    <button class="tv-directional-btn tv-directional-btn--ok" onclick="tvCommand(this, 'cursorCenter')" data-device-id="189" aria-label="OK">
                      <div class="tv-ok-circle"></div>
                    </button>
                    <button class="tv-directional-btn tv-directional-btn--right" onclick="tvCommand(this, 'cursorRight')" data-device-id="189" aria-label="Direita">
                      <img src="images/icons/arrow-right.svg" alt="Direita" class="tv-btn-icon-img">
                    </button>
                  </div>
                            
                  <!-- Linha 3: DOWN -->
                  <button class="tv-directional-btn tv-directional-btn--down" onclick="tvCommand(this, 'cursorDown')" data-device-id="189" aria-label="Baixo">
                    <img src="images/icons/arrow-down.svg" alt="Baixo" class="tv-btn-icon-img">
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- COLUNA 3 -->
        <div class="tv-controls-col tv-col-3">
          <!-- BLOCO 6: NÃšMEROS -->
          <div class="tv-control-section">
            <header class="tv-section-header">
              <h3 class="tv-section-title">NÃºmeros</h3>
              <div class="tv-section-line"></div>
            </header>
            <div class="tv-control-group">
              <div class="tv-numpad">
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num1')" data-device-id="189" aria-label="1">1</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num2')" data-device-id="189" aria-label="2">2</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num3')" data-device-id="189" aria-label="3">3</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num4')" data-device-id="189" aria-label="4">4</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num5')" data-device-id="189" aria-label="5">5</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num6')" data-device-id="189" aria-label="6">6</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num7')" data-device-id="189" aria-label="7">7</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num8')" data-device-id="189" aria-label="8">8</button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num9')" data-device-id="189" aria-label="9">9</button>
                <button class="tv-numpad-btn tv-numpad-btn--icon" onclick="tvCommand(this, 'returnButton')" data-device-id="189" aria-label="Voltar">
                  <img src="images/icons/back-button.svg" alt="Back">
                </button>
                <button class="tv-numpad-btn" onclick="tvCommand(this, 'num0')" data-device-id="189" aria-label="0">0</button>
                <button class="tv-numpad-btn tv-numpad-btn--icon" onclick="tvCommand(this, 'mouse')" aria-label="Mouse">
                  <img src="images/icons/icon-mouse.svg" alt="Mouse">
                </button>
              </div>
            </div>
          </div>

          <!-- BLOCO 7: LOGO ELETRIZE -->
          <div class="tv-control-section tv-logo-section">
            <img src="images/icons/eletrize.svg" alt="Eletrize" class="tv-eletrize-logo">
          </div>
        </div>

      </div>

    </div>

        `,
      };

      // Remover pÃ¡ginas estÃ¡ticas antigas para forÃ§ar geraÃ§Ã£o via config.js
      const LEGACY_CONFIG_ROUTES = [
        "ambiente1-musica",
        "ambiente2-musica",
        "ambiente3-musica",
        "ambiente1-tv",
        "ambiente1-htv",
        "ambiente7-tv",
        "ambiente7-htv",
        "ambiente8-tv",
        "ambiente8-htv",
        "ambiente9-tv",
        "ambiente9-htv",
      ];

      LEGACY_CONFIG_ROUTES.forEach((route) => {
        if (pages[route]) {
          delete pages[route];
        }
      });

      Object.keys(pages).forEach((route) => {
        if (/^ambiente\d+-conforto$/.test(route)) {
          delete pages[route];
        }
      });

      let prebuildPromise = null;
      function startPrebuild() {
        if (prebuildPromise) return prebuildPromise;
        prebuildPromise = prebuildConfigPages(pages).catch((error) => {
          console.warn("Prebuild background falhou", error);
        });
        return prebuildPromise;
      }

      let SPA_NAV_LOCK_UNTIL = 0;
      function spaNavigate(page) {
        const now = Date.now();
        if (now < SPA_NAV_LOCK_UNTIL) return;
        SPA_NAV_LOCK_UNTIL = now + 250;

        const target = String(page || "");
        const current = (window.location.hash || "").replace("#", "");
        if (!target || target === current) {
          window.location.hash = target;
          return;
        }

        // Fade-out da pÃ¡gina atual (evita flash ao voltar/entrar)
        const activePage = document.querySelector(".page.active");
        if (activePage) {
          activePage.classList.remove("page-ready");
        }

        // Trocar o hash apÃ³s um pequeno atraso para a animaÃ§Ã£o aparecer
        setTimeout(() => {
          window.__SPA_NAV_PREFADED__ = true;
          window.location.hash = target;
        }, 180);
      }

      function getEnvironmentLabel(envKey) {
        if (typeof getEnvironment === "function") {
          const env = getEnvironment(envKey);
          return env?.name || null;
        }
        return null;
      }

      const PAGE_SUFFIX_LABELS = {
        "": "Painel",
        luzes: "Ilumina\u00e7\u00e3o",
        cortinas: "Cortinas",
        conforto: "Conforto",
        musica: "M\u00fasica",
        tv: "Controle TV",
        htv: "Controle HTV",
        piscina: "Piscina",
        "piscina-luzes": "Ilumina\u00e7\u00e3o",
      };

      function formatEnvironmentPageTitle(route) {
        if (!route || !route.startsWith("ambiente")) return null;
        const parts = route.split("-");
        const envKey = parts[0];
        const suffix = parts.slice(1).join("-");
        const envLabel = getEnvironmentLabel(envKey);
        if (!envLabel) return null;
        const pageLabel = Object.prototype.hasOwnProperty.call(
          PAGE_SUFFIX_LABELS,
          suffix
        )
          ? PAGE_SUFFIX_LABELS[suffix]
          : suffix
          ? suffix
              .split("-")
              .map((segment) =>
                segment ? segment[0].toUpperCase() + segment.slice(1) : segment
              )
              .join(" ")
          : PAGE_SUFFIX_LABELS[""];
        return `${envLabel} | ${pageLabel}`;
      }

      function renderSpa() {
        let page = window.location.hash.replace("#", "") || "home";

        if (!pages[page] && typeof ensureConfigPage === "function") {
          ensureConfigPage(page, pages);
        }

        if (!pages[page]) page = "home";

        // Navbar pages: manter logo + linha branca estÃ¡ticos fora do fade.
        // PÃ¡ginas internas: esconder para nÃ£o conflitar com headers/back buttons.
        try {
          const staticTopbar = document.getElementById("spa-static-topbar");
          const staticHeader = document.getElementById("spa-static-header");
          const showStaticChrome =
            page === "home" || page === "curtains" || page === "scenes";
          if (staticTopbar) staticTopbar.classList.toggle("is-hidden", !showStaticChrome);
          if (staticHeader) staticHeader.classList.toggle("is-hidden", !showStaticChrome);
        } catch (e) {}

        const previousPage = spaRoot.dataset.currentPage;
        if (previousPage) {
          const fragment = document.createDocumentFragment();
          while (spaRoot.firstChild) {
            fragment.appendChild(spaRoot.firstChild);
          }
          pageCache.set(previousPage, fragment);
        } else {
          while (spaRoot.firstChild) {
            spaRoot.removeChild(spaRoot.firstChild);
          }
        }

        let fragmentToRender;
        let reused = false;

        if (pageCache.has(page)) {
          fragmentToRender = pageCache.get(page);
          pageCache.delete(page);
          reused = true;
        } else {
          const template = document.createElement("template");
          template.innerHTML = pages[page]();
          fragmentToRender = template.content;
        }

        while (spaRoot.firstChild) {
          spaRoot.removeChild(spaRoot.firstChild);
        }
        spaRoot.appendChild(fragmentToRender);
        spaRoot.dataset.currentPage = page;

        // Se a pÃ¡gina veio do cache, ela pode estar com page-ready ainda.
        // Remover imediatamente evita aparecer 1 frame (flash) antes do applyBackground rodar.
        try {
          const justRendered = spaRoot.querySelector(".page.active");
          if (justRendered) {
            justRendered.classList.remove("page-ready");
          }
        } catch (e) {}

        const formattedTitle = formatEnvironmentPageTitle(page);
        if (formattedTitle) {
          document.title = formattedTitle;
          const activePage = document.querySelector(".page.active");
          if (activePage) {
            let titleEl = activePage.querySelector(".page-title");
            if (!titleEl) {
              const headerEl = activePage.querySelector(".page-header");
              if (headerEl) {
                titleEl = document.createElement("h1");
                titleEl.className = "page-title";
                headerEl.appendChild(titleEl);
              }
            }
            if (titleEl) {
              titleEl.textContent = formattedTitle;
            }
          }
        } else {
          // Para pÃ¡ginas nÃ£o-ambiente, tentar atualizar tÃ­tulo simples
          const activePage = document.querySelector(".page.active");
          if (activePage) {
            const titleEl = activePage.querySelector(".page-title");
            if (titleEl && titleEl.textContent) {
              document.title = titleEl.textContent + " | Dashboard Eletrize";
            }
          }
        }

        setupAppInfoMenu();

        // Inicializar slider de volume se estiver na pÃ¡gina de TV
        if (page === "ambiente1-tv" || page === "ambiente1-htv") {
          setTimeout(() => {
            if (typeof initVolumeSlider === "function") {
              initVolumeSlider();
            }
          }, 100);
        }

        // ConstrÃ³i a lista de cÃ´modos na Home

        if (page === "home") {
          const list = document.querySelector(".rooms-list");

          if (list && !reused) {
            const rooms =
              typeof getHomeRoomsData === "function"
                ? getHomeRoomsData()
                : [
                    { name: "Varanda", route: "ambiente1" },
                    { name: "Living", route: "ambiente2" },
                    { name: "Piscina", route: "ambiente3" },
                    { name: "Externa", route: "ambiente4" },
                    { name: "ServiÃ§o", route: "ambiente5" },
                    { name: "CirculaÃ§Ã£o", route: "ambiente6" },
                    { name: "SuÃ­te I", route: "ambiente7" },
                    { name: "SuÃ­te II", route: "ambiente8" },
                    { name: "SuÃ­te Master", route: "ambiente9" },
                  ];

            const order =
              typeof getHomeRoomsData === "function"
                ? rooms.map((r) => r.route)
                : [
                    "ambiente1",
                    "ambiente2",
                    "ambiente3",
                    "ambiente4",
                    "ambiente5",
                    "ambiente6",
                    "ambiente7",
                    "ambiente8",
                    "ambiente9",
                  ];

            const visible =
              typeof getHomeRoomsData === "function"
                ? rooms
                : rooms
                    .filter((r) => order.includes(r.route))
                    .sort(
                      (a, b) =>
                        order.indexOf(a.route) - order.indexOf(b.route)
                    );

            const firstVisibleRoute = visible[0]?.route || null;

            // Os deviceIds já vêm do config.js via getHomeRoomsData()
            // Não há mais fallback hardcoded - use apenas os IDs configurados

            list.innerHTML = visible
              .map((r) => {
                const hasPhoto = Boolean(ROOM_IMAGE_DATA[r.route]);
                const ids =
                  Array.isArray(r.deviceIds) && r.deviceIds.length > 0
                    ? r.deviceIds
                    : [];
                return `

                    <div class="room-card ${hasPhoto ? "has-photo" : ""}">

                        ${
                          hasPhoto
                            ? renderRoomResponsivePhoto(r.route, r.name, {
                                eager: r.route === firstVisibleRoute,
                              })
                            : ""
                        }

                        <span>${r.name}</span>

                        ${
                          ids.length > 0
                            ? `<button class="room-master-btn" data-route="${
                                r.route
                              }" data-device-ids="${ids.join(
                                ","
                              )}" onclick="onHomeMasterClick(event,this)" aria-label="Master"><img class="room-master-icon" src="images/icons/icon-small-light-off.svg" alt="Master"></button>`
                            : ""
                        }

                        <button class="room-card-link" onclick="spaNavigate('${
                          r.route
                        }')"></button>

                    </div>`;
              })
              .join("");

            list.dataset.rendered = "true";
          }

          if (typeof initHomeMasters === "function") initHomeMasters();
        }

        // Define o fundo da pÃ¡gina interna com a mesma foto do card

        (function setPageBackground(route) {
          // Extrai o ambiente base (ex: "ambiente1" de "ambiente1-luzes")
          const baseAmbiente = route.match(/^(ambiente\d+)/)?.[1] || route;
          const container =
            document.querySelector(".page.active .page-container") ||
            document.querySelector(".page.active.page-container");

          if (container) {
            applyBackground(container, baseAmbiente);
          } else {
            const fallbackContainer = document.querySelector(".page.active");
            if (fallbackContainer && !fallbackContainer.classList.contains("page-ready")) {
              requestAnimationFrame(() => {
                fallbackContainer.classList.add("page-ready");
              });
            }
          }

          preloadRoomBackground(baseAmbiente);
        })(page);

        // Atualiza navbar (ativo + indicador)

        const nav = document.getElementById("spa-navbar");

        const items = nav.querySelectorAll(".nav-item");

        const navPages = Array.from(items).map((i) =>
          i.getAttribute("data-page")
        );

        const navPage = navPages.includes(page) ? page : "home";

        let activeIndex = navPages.indexOf(navPage);

        if (activeIndex < 0) activeIndex = navPages.indexOf("home");

        items.forEach((item, idx) =>
          item.classList.toggle("active", idx === activeIndex)
        );

        const activeItem = items[activeIndex];

        if (activeItem) {
          // Usar setTimeout para garantir que o layout seja calculado apÃ³s mudanÃ§as de DOM

          setTimeout(() => {
            const navRect = nav.getBoundingClientRect();

            const itemRect = activeItem.getBoundingClientRect();

            const center = itemRect.left + itemRect.width / 2 - navRect.left;

            nav.style.setProperty("--indicator-left", `${center}px`);
          }, 10);
        }

        // Inicializa botÃµes dos cÃ´modos nas pÃ¡ginas internas

        if (
          [
            "ambiente1",
            "ambiente2",
            "ambiente3",
            "ambiente4",
            "ambiente5",
            "ambiente6",
            "ambiente7",
            "ambiente8",
            "ambiente9",
          ].includes(page)
        ) {
          if (typeof initRoomPage === "function") initRoomPage();
        }

        // Atualiza o botÃ£o master na pÃ¡gina de cenÃ¡rios

        if (page === "scenes") {
          ensureScenesScript()
            .then(() => {
              if (typeof initScenesPage === "function") {
                initScenesPage();
              }
            })
            .catch((error) =>
              console.error("Erro ao carregar scenes.js", error)
            );
        }

        // Inicializa controlador de ar condicionado em pÃ¡ginas *-conforto
        if (/^ambiente\d+-conforto$/.test(page)) {
          setTimeout(() => {
            if (typeof initAirConditionerControl === "function") {
              initAirConditionerControl();
            }
          }, 100);
        }

        // Inicializa player de mÃºsica em pÃ¡ginas *-musica geradas pelo config
        if (/^ambiente\d+-musica$/.test(page)) {
          setTimeout(() => {
            if (typeof initMusicPlayerUI === "function") {
              initMusicPlayerUI();
            }
          }, 100);
        }
      }

      // Home: Master On/Off por ambiente (funÃ§Ãµes movidas para script.js)

      window.onHomeMasterClick = function (ev, btn) {
        ev.stopPropagation();

        ev.preventDefault();

        // Verificar se jÃ¡ tem comando pendente

        if (btn.dataset.pending === "true") {
          console.log("ðŸš« Comando master jÃ¡ em andamento");

          return;
        }

        const ids = (btn.dataset.deviceIds || "").split(",").filter(Boolean);

        if (!ids.length) return;

        const shouldTurnOn = !anyOn(ids);

        const cmd = shouldTurnOn ? "on" : "off";

        console.log(`ðŸ  Master ${cmd} para ${ids.length} dispositivos:`, ids);

        // Marcar botÃ£o como pendente

        btn.dataset.pending = "true";

        // Atualizar visual imediatamente (forÃ§ar update)

        const img = btn.querySelector("img");

        if (img) {
          img.src = shouldTurnOn
            ? "images/icons/icon-small-light-on.svg"
            : "images/icons/icon-small-light-off.svg";

          btn.dataset.state = cmd;
        }

        // Proteger todos os dispositivos individuais para evitar conflitos

        ids.forEach((deviceId) => {
          if (typeof protectDevice === "function") {
            protectDevice(deviceId, 10000); // 10s de proteÃ§Ã£o para master commands
          }
        });

        // Atualizar estados salvos imediatamente

        ids.forEach((id) => {
          setStoredState(id, cmd);
        });

        // Atualizar UI imediatamente

        if (typeof updateStatesAfterMasterCommand === "function") {
          updateStatesAfterMasterCommand(ids, cmd);
        }

        // Enviar comandos para todos os dispositivos

        const promises = ids.map((id) => sendHubitatCommand(id, cmd));

        Promise.allSettled(promises)
          .then((results) => {
            const successes = results.filter(
              (r) => r.status === "fulfilled"
            ).length;

            const failures = results.filter(
              (r) => r.status === "rejected"
            ).length;

            console.log(
              `âœ… Master ${cmd}: ${successes} sucessos, ${failures} falhas`
            );

            // Segunda sincronizaÃ§Ã£o apÃ³s comandos completos

            setTimeout(() => {
              if (typeof updateStatesAfterMasterCommand === "function") {
                updateStatesAfterMasterCommand(ids, cmd);
              }
            }, 300);

            // Remover proteÃ§Ã£o apÃ³s delay

            setTimeout(() => {
              btn.dataset.pending = "false";

              console.log(`ðŸ”“ Master button liberado`);
            }, 3000);
          })
          .catch((error) => {
            console.error("âŒ Erro no comando master:", error);

            btn.dataset.pending = "false";
          });
      };

      // FunÃ§Ã£o para recalcular posiÃ§Ã£o do page selector

      function updatePageSelectorPosition() {
        const nav = document.getElementById("spa-navbar");

        const activeItem = nav?.querySelector(".nav-item.active");

        if (activeItem && nav) {
          const navRect = nav.getBoundingClientRect();

          const itemRect = activeItem.getBoundingClientRect();

          const center = itemRect.left + itemRect.width / 2 - navRect.left;

          nav.style.setProperty("--indicator-left", `${center}px`);

          console.log("ðŸ“ Page selector reposicionado:", center + "px");
        }
      }

      // NavegaÃ§Ã£o com transiÃ§Ã£o (inclui back/forward do browser, que nÃ£o passa por spaNavigate)
      let SPA_HASHCHANGE_TIMER = null;
      window.addEventListener("hashchange", () => {
        if (SPA_HASHCHANGE_TIMER) {
          clearTimeout(SPA_HASHCHANGE_TIMER);
          SPA_HASHCHANGE_TIMER = null;
        }

        // Se a navegaÃ§Ã£o jÃ¡ fez fade antes (spaNavigate), renderiza direto.
        if (window.__SPA_NAV_PREFADED__) {
          window.__SPA_NAV_PREFADED__ = false;
          renderSpa();
          return;
        }

        const activePage = document.querySelector(".page.active");
        if (activePage) {
          activePage.classList.remove("page-ready");
        }

        SPA_HASHCHANGE_TIMER = setTimeout(() => {
          renderSpa();
          SPA_HASHCHANGE_TIMER = null;
        }, 180);
      });

      window.addEventListener("DOMContentLoaded", () => {
        initializeAppInfoMenu();

        renderSpa();

        startPrebuild();

        // Fail-safe: se o script principal nÃ£o iniciar por algum motivo,
        // tenta inicializar e/ou remove o loader para nÃ£o travar a UI.
        setTimeout(() => {
          try {
            if (!window.initializationStarted && typeof window.initializeApp === "function") {
              window.initializeApp();
            }

            const loader = document.getElementById("global-loader");
            if (!window.initializationStarted && loader && loader.style.display !== "none") {
              const loaderText = document.querySelector(".loader-text");
              if (loaderText) loaderText.textContent = "Inicializando...";

              // Ãšltimo recurso: esconder loader apÃ³s alguns segundos
              setTimeout(() => {
                if (!window.appFullyInitialized && loader && loader.style.display !== "none") {
                  if (typeof window.hideLoader === "function") {
                    window.hideLoader();
                  } else if (typeof window.startHomeAnimation === "function") {
                    window.startHomeAnimation();
                  } else {
                    loader.classList.add("hidden");
                    loader.style.display = "none";
                    document.body.classList.add("app-ready");
                  }
                }
              }, 6000);
            }
          } catch (e) {
            // Silenciar falhas do fail-safe
            document.body.classList.add("app-ready");
          }
        }, 800);

        // Navbar SPA - listeners apÃ³s DOM pronto

        document.querySelectorAll(".nav-item").forEach((item) => {
          item.addEventListener("click", function (e) {
            const page = item.getAttribute("data-page");

            if (page) {
              e.preventDefault();

              spaNavigate(page);
            }
          });
        });
      });

      // Listeners para recalcular page selector ao rotacionar/redimensionar

      window.addEventListener("resize", () => {
        // Debounce para evitar mÃºltiplas chamadas

        clearTimeout(window.resizeTimeout);

        window.resizeTimeout = setTimeout(updatePageSelectorPosition, 100);
      });

      window.addEventListener("orientationchange", () => {
        // Aguardar um pouco apÃ³s mudanÃ§a de orientaÃ§Ã£o para garantir layout correto

        setTimeout(updatePageSelectorPosition, 300);
      });
    </script>
  </body>
</html>
